{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\views\\data\\launch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\views\\data\\launch\\index.vue","mtime":1644990171980},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\babel.config.js","mtime":1642644134550},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js","mtime":1668673148088},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGdldExpc3QsIGFkZE9uZSwgZ2V0Q29tcGFueUluZm9MaXN0LCBnZXRQcm9qZWN0RXhhbWluZUxvZyB9IGZyb20gJ0AvYXBpL2xpc3RQcm9qZWN0JzsKaW1wb3J0IEFwcHJvdmFsTG9nIGZyb20gJ0AvY29tcG9uZW50cy9Mb2cvQXBwcm92YWxMb2cudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMYXVuY2gnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZUluZm86IHsKICAgICAgICBjb21wYW55TmFtZTogJycsCiAgICAgICAgcHJvamVjdE5hbWU6ICcnLAogICAgICAgIGZpcnN0RXhhbWluZTogJycsCiAgICAgICAgdHlwZTogMCwKICAgICAgICBzZXRQcm9qZWN0U3RhdHVzOiAnJywKICAgICAgICBwYWdlSW5kZXg6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIG9wdGlvbjogW3sKICAgICAgICBmaXJzdEV4YW1pbmU6ICcwJywKICAgICAgICBsYWJlbDogJ+W+heaPkOS6pCcKICAgICAgfSwgewogICAgICAgIGZpcnN0RXhhbWluZTogJzEnLAogICAgICAgIGxhYmVsOiAn5a6h5qC45LitJwogICAgICB9LCB7CiAgICAgICAgZmlyc3RFeGFtaW5lOiAnMycsCiAgICAgICAgbGFiZWw6ICflrqHmoLjpgJrov4cnCiAgICAgIH0sIHsKICAgICAgICBmaXJzdEV4YW1pbmU6ICcyJywKICAgICAgICBsYWJlbDogJ+WuoeaguOacqumAmui/hycKICAgICAgfSwgewogICAgICAgIGZpcnN0RXhhbWluZTogJzk5JywKICAgICAgICBsYWJlbDogJ+mhueebruW3sue7iOatoicKICAgICAgfV0sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDliJvlu7rpobnnm67ooajljZUKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICAvLyDmkJzntKLlhazlj7jliJfooagKICAgICAgb3B0aW9uc3M6IFtdLAogICAgICAvLwogICAgICBydWxlRm9ybTogewogICAgICAgIHByb2plY3ROYW1lOiAnJywKICAgICAgICBjb21wYW55TmFtZTogJycsCiAgICAgICAgbGVnYWxQZXJzb246ICcnLAogICAgICAgIHJlZ2lzdGVyTW9uZXk6ICcnLAogICAgICAgIHNhbWVDcmVkaXRDb2RlOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHByb2plY3ROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6aG555uu5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNCwKICAgICAgICAgIG1heDogNTAsCiAgICAgICAgICBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDQg5YiwIDUwIOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb21wYW55TmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWFrOWPuOWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDYsCiAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCA2IOWIsCA1MCDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgY3VycmVudEluZGV4OiBudWxsLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5a6h5om56K6w5b2VCiAgICAgIGxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBhY3Rpdml0aWVzOiBbXQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFwcHJvdmFsTG9nCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJfooajor7fmsYIKICAgIGdldExpc3QoKSB7CiAgICAgIGdldExpc3QodGhpcy50YWJsZUluZm8pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICByZWNvcmRzLAogICAgICAgICAgdG90YWwKICAgICAgICB9ID0gcmVzLmRhdGE7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZWNvcmRzOwogICAgICAgIHRoaXMudG90YWwgPSB0b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6KGoZGFu5p+l6K+iCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy50YWJsZUluZm8ucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy4kcmVmcy5wYWdpbmF0aW9uLnJlc2V0T3B0aW9uKHRoaXMudGFibGVJbmZvLnBhZ2VJbmRleCwgdGhpcy50YWJsZUluZm8ucGFnZVNpemUpOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDooahkYW7ph43nva4KICAgIHJlc2V0KCkgewogICAgICB0aGlzLnRhYmxlSW5mbyA9IHsKICAgICAgICBjb21wYW55TmFtZTogJycsCiAgICAgICAgcHJvamVjdE5hbWU6ICcnLAogICAgICAgIGZpcnN0RXhhbWluZTogJycsCiAgICAgICAgc2V0UHJvamVjdFN0YXR1czogJycsCiAgICAgICAgdHlwZTogMCwKICAgICAgICBwYWdlSW5kZXg6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnMucGFnaW5hdGlvbi5yZXNldE9wdGlvbih0aGlzLnRhYmxlSW5mby5wYWdlSW5kZXgsIHRoaXMudGFibGVJbmZvLnBhZ2VTaXplKTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5p+l55yL6K+m5oOFCiAgICBoYW5kbGVWaWV3KHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0xhdW5jaERldGFpbCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHByb2plY3RJZDogcm93LnByb2plY3RJZCwKICAgICAgICAgIGNyZWF0ZVRpbWU6IHJvdy5jcmVhdGVUaW1lLAogICAgICAgICAgY3JlYXRlVXNlck5pY2tOYW1lOiByb3cuY3JlYXRlVXNlck5pY2tOYW1lLAogICAgICAgICAgY3JlYXRlVXNlclBob25lOiByb3cuY3JlYXRlVXNlclBob25lLAogICAgICAgICAgcHJvamVjdE5hbWU6IHJvdy5wcm9qZWN0TmFtZSwKICAgICAgICAgIGNvbXBhbnlOYW1lOiByb3cuY29tcGFueU5hbWUsCiAgICAgICAgICBmaXJzdEV4YW1pbmU6IHJvdy5maXJzdEV4YW1pbmUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWuoeaJueiusOW9lQogICAgYXBwcm92YWwocHJvamVjdElkKSB7CiAgICAgIGdldFByb2plY3RFeGFtaW5lTG9nKHsKICAgICAgICBwcm9qZWN0SWQKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuYWN0aXZpdGllcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgICAgdGhpcy5sb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnRhYmxlSW5mby5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy50YWJsZUluZm8ucGFnZUluZGV4ID0gdmFsOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDliJvlu7rpobnnm67ooagKICAgIGNyZWF0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVJbnB1dCgpIHsKICAgICAgaWYgKHRoaXMucnVsZUZvcm0uY29tcGFueU5hbWUubGVuZ3RoID4gNSkgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgZ2V0Q29tcGFueUluZm9MaXN0KHRoaXMucnVsZUZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gcmVzLmRhdGE7CiAgICAgICAgICAgIHRoaXMub3B0aW9uc3MgPSByZXMuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgICAgdGhpcy5vcHRpb25zcyA9IFtdOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0KGl0ZW0pIHsKICAgICAgdGhpcy5ydWxlRm9ybS5jb21wYW55TmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgdGhpcy5ydWxlRm9ybS5sZWdhbFBlcnNvbiA9IGl0ZW0ubGVnYWxQZXJzb25OYW1lOwogICAgICB0aGlzLnJ1bGVGb3JtLnJlZ2lzdGVyTW9uZXkgPSBpdGVtLnJlZ0NhcGl0YWw7CiAgICAgIHRoaXMucnVsZUZvcm0uc2FtZUNyZWRpdENvZGUgPSBpdGVtLmNyZWRpdENvZGU7CiAgICAgIHRoaXMub3B0aW9ucyA9IFtdOwogICAgfSwKICAgIGNvbHNlRGlhbG9nKCkgewogICAgICB0aGlzLnJ1bGVGb3JtID0gewogICAgICAgIHByb2plY3ROYW1lOiAnJywKICAgICAgICBjb21wYW55TmFtZTogJycsCiAgICAgICAgbGVnYWxQZXJzb246ICcnLAogICAgICAgIHJlZ2lzdGVyTW9uZXk6ICcnLAogICAgICAgIHNhbWVDcmVkaXRDb2RlOiAnJwogICAgICB9OwogICAgICB0aGlzLm9wdGlvbnMgPSBbXTsKICAgICAgdGhpcy5vcHRpb25zcyA9IFtdOwogICAgfSwKICAgIGhhbmRsZUNsZWFyKCkgewogICAgICB0aGlzLnJ1bGVGb3JtLmNvbXBhbnlOYW1lID0gJyc7CiAgICAgIHRoaXMub3B0aW9ucyA9IFtdOwogICAgfSwKICAgIGhhbmRsZU1vdmUoaW5kZXgpIHsKICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgIH0sCiAgICBjcmVhdGVQcm9qZWN0KCkgewogICAgICAvLyDliJvlu7rpobnnm64KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5vcHRpb25zcy5maW5kKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHRoaXMucnVsZUZvcm0uY29tcGFueU5hbWU7CiAgICAgIH0pOwogICAgICBpZiAocmVzdWx0ID09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+W/hemhu+mAieaLqeS4gOmhueaJjeiDvei/m+ihjOS4i+S4gOatpeaTjeS9nCcpOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICBhZGRPbmUodGhpcy5ydWxlRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yib5bu66aG555uu6KGo5Y2V5oiQ5YqfJyk7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogJ0xhdW5jaERldGFpbCcsCiAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHJlcy5kYXRhLnByb2plY3RJZCwKICAgICAgICAgICAgICAgICAgY3JlYXRlVGltZTogcmVzLmRhdGEuY3JlYXRlVGltZSwKICAgICAgICAgICAgICAgICAgY3JlYXRlVXNlck5pY2tOYW1lOiByZXMuZGF0YS5jcmVhdGVVc2VyTmlja05hbWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZVVzZXJQaG9uZTogcmVzLmRhdGEuY3JlYXRlVXNlclBob25lLAogICAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZTogcmVzLmRhdGEucHJvamVjdE5hbWUsCiAgICAgICAgICAgICAgICAgIGNvbXBhbnlOYW1lOiByZXMuZGF0YS5jb21wYW55TmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";AAmHA;AAEA;AAEA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC,SACA;QACAL;QACAM;MACA,GACA;QACAN;QACAM;MACA,GACA;QACAN;QACAM;MACA,GACA;QACAN;QACAM;MACA,GACA;QACAN;QACAM;MACA,EACA;MACAC;MACAC;MAEA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;QACAb;QACAD;QACAe;QACAC;QACAC;MACA;MACAC;QACAjB,cACA;UAAAkB;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,EACA;QACArB,cACA;UAAAmB;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA;MAEA;MACAG;MACAC;MAEA;MACAC;MACAC;IACA;EACA;EACAC;IAAAC;EAAA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MACAA;QACA;UAAAC;UAAAvB;QAAA;QACA;QACA;MACA;IACA;IACA;IACAwB;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACAnC;QACAC;QACAC;QACAE;QACAD;QACAE;QACAC;MACA;MACA;MACA;IACA;IAEA;IACA8B;MACA;QAAAvC;QAAAwC;UACAC;UACAC;UACAC;UACAC;UACAxC;UACAD;UACAE;QACA;MACA;IACA;IAEA;IACAwC;MACAC;QAAAL;MAAA;QACA;MACA;MACA;IACA;IAEAM;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IACAC;MACA;QACAC;UACAC;YACA;YACA;UACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACAlD;QACAD;QACAe;QACAC;QACAC;MACA;MACA;MACA;IACA;IACAmC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;MACA;MACA;QACA;QACA;QACA;MACA;QACA;UACA;YACAC;cACA;cACA;cACA;gBAAA1D;gBAAAwC;kBACAC;kBACAC;kBACAC;kBACAC;kBACAxC;kBACAD;gBACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","tableInfo","companyName","projectName","firstExamine","type","setProjectStatus","pageIndex","pageSize","option","label","tableData","total","dialogVisible","options","optionss","ruleForm","legalPerson","registerMoney","sameCreditCode","rules","required","message","trigger","min","max","currentIndex","loading","logVisible","activities","components","ApprovalLog","created","methods","getList","records","handleQuery","reset","handleView","query","projectId","createTime","createUserNickName","createUserPhone","approval","getProjectExamineLog","handleSizeChange","handleCurrentChange","create","handleInput","setTimeout","getCompanyInfoList","handleSelect","colseDialog","handleClear","handleMove","createProject","addOne"],"sourceRoot":"src/views/data/launch","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"shang\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>资料收集</el-breadcrumb-item>\n        <el-breadcrumb-item>{{ $route.meta.title }}</el-breadcrumb-item>\n      </el-breadcrumb>\n      <h2>{{ $route.meta.title }}</h2>\n    </div>\n    <el-card>\n      <div style=\"display:flex;justify-content:space-between;\">\n        <el-form ref=\"ruleForm\" :model=\"tableInfo\" inline>\n          <el-form-item>\n            <el-input v-model=\"tableInfo.projectName\" placeholder=\"项目名称查询\" clearable style=\"width:250px;\" />\n          </el-form-item>\n          <el-form-item>\n            <el-input v-model=\"tableInfo.companyName\" placeholder=\"业主名称查询\" clearable style=\"width:250px;\" />\n          </el-form-item>\n          <el-form-item>\n            <el-select v-model=\"tableInfo.setProjectStatus\" clearable placeholder=\"全部状态\">\n              <el-option label=\"未完善\" :value=\"0\"></el-option>\n              <el-option label=\"已完善\" :value=\"1\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-select v-model=\"tableInfo.firstExamine\" clearable placeholder=\"全部进度\">\n              <el-option\n                v-for=\"item in option\"\n                :key=\"item.firstExamine\"\n                :label=\"item.label\"\n                :value=\"item.firstExamine\">\n              </el-option>\n            </el-select>\n           </el-form-item>\n          <el-form-item style=\"margin-left: 20px;\">\n            <el-button type=\"primary\" @click=\"handleQuery\">查询</el-button>\n            <el-button @click=\"reset\">重置</el-button>\n          </el-form-item>\n        </el-form>\n        <div>\n          <el-button type=\"primary\" @click=\"create\">创建项目表单</el-button>\n        </div>\n      </div>\n      <el-table :data=\"tableData\" stripe :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\" style=\"width: 100%\">\n        <el-table-column prop=\"projectName\" label=\"项目名称\" />\n        <el-table-column prop=\"companyName\" label=\"业主名称\" />\n        <el-table-column prop=\"createTime\" label=\"创建时间\" />\n        <el-table-column label=\"建站地址\">\n          <template slot-scope=\"scope\">\n            {{scope.row.province}} - {{scope.row.city}}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"发起进度\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.companyInfoStatus == 1 && scope.row.companyBuildStatus == 1 && scope.row.cooperateStatus == 1 && scope.row.powerStatus == 1 && scope.row.relevantStatus == 1\" style=\"color:#70B603;\">已完善</span>\n            <span v-else>未完善</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"审批状态\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.firstExamine == 0\">待提交</span>\n            <span v-else-if=\"scope.row.firstExamine == 1\" style=\"color:#F59A23;\">审核中</span>\n            <span v-else-if=\"scope.row.firstExamine == 3\" style=\"color:#1890FF;\">初审通过</span>\n            <span v-else-if=\"scope.row.firstExamine == 2\" style=\"color:#D9001B;\">初审未通过</span>\n            <span v-else-if=\"scope.row.firstExamine == 99\">项目已终止</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"handleView(scope.row)\">查看</el-button>\n            <el-button type=\"text\" @click=\"approval(scope.row.projectId)\">审批记录</el-button>\n          </template>\n        </el-table-column> \n      </el-table>\n      <c-pagination ref=\"pagination\" :total=\"total\" @sendsize=\"handleSizeChange\" @sendpage=\"handleCurrentChange\" />\n    </el-card>\n    <!-- 创建项目表单 -->\n    <el-dialog\n      title=\"创建项目表单\"\n      :visible.sync=\"dialogVisible\"\n      width=\"40%\"\n      :close-on-click-modal=\"false\"\n      @close=\"colseDialog\">\n      <div style=\"position: relative;\">\n        <el-alert\n          title=\"请在搜索结果中选择匹配的公司名称，且创建表单后将无法修改，请认真核对 !\"\n          type=\"success\"\n          :closable=\"false\">\n        </el-alert>\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\" style=\"width:80%;margin:auto;\">\n          <el-form-item label=\"项目名称\" prop=\"projectName\">\n            <el-input v-model=\"ruleForm.projectName\" placeholder=\"请输入\" clearable />\n          </el-form-item>\n          <el-form-item label=\"公司名称\" prop=\"companyName\">\n            <el-input v-model.trim=\"ruleForm.companyName\" placeholder=\"请输入\" clearable @input=\"handleInput\" @clear=\"handleClear\" />\n          </el-form-item>\n        </el-form>\n        <div class=\"divul\" v-show=\"options.length\">\n          <ul v-show=\"options.length\" style=\"list-style: none;\">\n            <li v-for=\"(item, index) in options\" :key=\"item.id\" class=\"divli\" :class=\"{ bgc: index === currentIndex }\" @click=\"handleSelect(item, index)\" @mousemove=\"handleMove(index)\">{{ item.name }}</li>\n          </ul>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"createProject\" :loading=\"loading\">创 建</el-button>\n      </span>\n    </el-dialog>\n    <!-- 审批记录 -->\n    <ApprovalLog :logVisible.sync=\"logVisible\" :activities=\"activities\" />\n  </div>\n</template>\n\n<script>\nimport { getList, addOne, getCompanyInfoList, getProjectExamineLog } from '@/api/listProject'\n\nimport ApprovalLog from '@/components/Log/ApprovalLog.vue'\n\nexport default {\n  name: 'Launch',\n  data() {\n    return {\n      tableInfo: {\n        companyName: '',\n        projectName: '',\n        firstExamine: '',\n        type: 0,\n        setProjectStatus: '',\n        pageIndex: 1,\n        pageSize: 10\n      },\n      option: [\n        {\n          firstExamine: '0',\n          label: '待提交'\n        }, \n        {\n          firstExamine: '1',\n          label: '审核中'\n        }, \n        {\n          firstExamine: '3',\n          label: '审核通过'\n        }, \n        {\n          firstExamine: '2',\n          label: '审核未通过'\n        }, \n        {\n          firstExamine: '99',\n          label: '项目已终止'\n        }\n      ],\n      tableData: [],\n      total: 0,\n\n      // 创建项目表单\n      dialogVisible: false,\n      options: [], // 搜索公司列表\n      optionss: [], //\n      ruleForm: {\n        projectName: '',\n        companyName: '',\n        legalPerson: '',\n        registerMoney: '',\n        sameCreditCode: ''\n      },\n      rules: {\n        projectName: [\n            { required: true, message: '请输入项目名称', trigger: 'blur' },\n            { min: 4, max: 50, message: '长度在 4 到 50 个字符', trigger: 'blur' }\n          ],\n        companyName: [\n          { required: true, message: '请输入公司名称', trigger: 'blur' },\n          { min: 6, max: 50, message: '长度在 6 到 50 个字符', trigger: 'blur' }\n        ]\n      },\n      currentIndex: null,\n      loading: false,\n\n      // 审批记录\n      logVisible: false,\n      activities: []\n    }\n  },\n  components: { ApprovalLog },\n  created() {\n    this.getList()\n  },\n  methods: {\n    // 列表请求\n    getList() {\n      getList(this.tableInfo).then(res => {\n        const { records, total } = res.data\n        this.tableData = records\n        this.total = total\n      })\n    },\n    // 表dan查询\n    handleQuery() {\n      this.tableInfo.pageIndex = 1\n      this.$refs.pagination.resetOption(this.tableInfo.pageIndex, this.tableInfo.pageSize)\n      this.getList()\n    },\n    // 表dan重置\n    reset() {\n      this.tableInfo = {\n        companyName: '',\n        projectName: '',\n        firstExamine: '',\n        setProjectStatus: '',\n        type: 0,\n        pageIndex: 1,\n        pageSize: 10\n      }\n      this.$refs.pagination.resetOption(this.tableInfo.pageIndex, this.tableInfo.pageSize)\n      this.getList()\n    },\n\n    // 查看详情\n    handleView(row) {\n      this.$router.push({ name: 'LaunchDetail', query: { \n          projectId: row.projectId,\n          createTime: row.createTime,\n          createUserNickName: row.createUserNickName,\n          createUserPhone: row.createUserPhone,\n          projectName: row.projectName,\n          companyName: row.companyName,\n          firstExamine: row.firstExamine\n        }\n      })\n    },\n    \n    // 审批记录\n    approval(projectId) {\n      getProjectExamineLog({projectId}).then(res => {\n        this.activities = res.data\n      })\n      this.logVisible = true\n    },\n\n    handleSizeChange(val) {\n      this.tableInfo.pageSize = val\n      this.getList()\n    },\n    handleCurrentChange(val) {\n      this.tableInfo.pageIndex = val\n      this.getList()\n    },\n\n    // 创建项目表\n    create() {\n      this.dialogVisible = true\n    },\n    handleInput() {\n      if( this.ruleForm.companyName.length > 5 ) {\n        setTimeout(() => {\n          getCompanyInfoList(this.ruleForm).then(res => {\n            this.options = res.data\n            this.optionss = res.data\n          })\n        }, 300)\n      } else {\n        this.options = []\n        this.optionss = []\n      }\n    },\n    handleSelect(item) {\n      this.ruleForm.companyName = item.name\n      this.ruleForm.legalPerson = item.legalPersonName\n      this.ruleForm.registerMoney = item.regCapital\n      this.ruleForm.sameCreditCode = item.creditCode\n      this.options = []\n    },\n    colseDialog() {\n      this.ruleForm = {\n        projectName: '',\n        companyName: '',\n        legalPerson: '',\n        registerMoney: '',\n        sameCreditCode: ''\n      }\n      this.options = []\n      this.optionss = []\n    },\n    handleClear() {\n      this.ruleForm.companyName = ''\n      this.options = []\n    },\n    handleMove(index) {\n      this.currentIndex = index\n    },\n    createProject() { // 创建项目\n      this.loading = true\n      const result = this.optionss.find(item => {\n        return item.name === this.ruleForm.companyName\n      })\n      if(result == undefined) {\n        this.$message.error('必须选择一项才能进行下一步操作')\n        this.loading = false\n        return\n      } else {\n        this.$refs.ruleForm.validate(valid => {\n          if(valid) {\n            addOne(this.ruleForm).then(res => {\n              this.loading = false\n              this.$message.success('创建项目表单成功')\n              this.$router.push({ name: 'LaunchDetail', query: { \n                projectId: res.data.projectId,\n                createTime: res.data.createTime,\n                createUserNickName: res.data.createUserNickName,\n                createUserPhone: res.data.createUserPhone,\n                projectName: res.data.projectName,\n                companyName: res.data.companyName\n                }\n              })\n            }).catch(err => {\n              this.loading = false\n            })\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .shang {\n    height: 97px;\n    background-color: #fff;\n    .el-breadcrumb {\n      padding: 15px 0 0 25px;\n    }\n    h2 {\n      text-align: left;\n      padding-left: 25px;\n    }\n  }\n  .el-alert {\n    margin-bottom: 25px;\n  }\n  .divul {\n    max-width: 600px;\n    min-width: 350px;\n    list-style: none;\n    background-color: #fff;\n    position: absolute;\n    top: 170px;\n    left: 153px;\n    border:1px solid #DCDFE6;\n    border-radius: 5px;\n    overflow: auto;\n  }\n  .divli {\n    margin-bottom: 10px;\n    cursor: pointer;\n    width: 100%;\n  }\n  .bgc:hover {\n    color: blue;\n  }\n</style>"]}]}