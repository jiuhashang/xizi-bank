{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\string.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\string.vue","mtime":1644977083940},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\babel.config.js","mtime":1642644134550},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js","mtime":1668673148088},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEZpbGVVcGxvYWQgZnJvbSAnLi9pbmRleC52dWUnOwppbXBvcnQgRW1pdHRlciBmcm9tICdlbGVtZW50LXVpL3NyYy9taXhpbnMvZW1pdHRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGaWxlVXBsb2FkCiAgfSwKICBtaXhpbnM6IFtFbWl0dGVyXSwKICBtb2RlbDogewogICAgcHJvcDogJ2ZpbGVMaXN0JywKICAgIGV2ZW50OiAnY2hhbmdlJwogIH0sCiAgcHJvcHM6IHsKICAgIGZpbGVMaXN0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBsaW1pdDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOe7hOS7tuaYr+WQpuaUr+aMgeWkmumAieS4iuS8oCjpu5jorqTkuI3mlK/mjIEpCiAgICBtdWx0aXBsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgdGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfkuIrkvKAnCiAgICB9LAogICAgYWNjZXB0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJy4qJwogICAgfSwKICAgIHJlcXVpcmVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZUFyclN0ckZyb21DaGlsZDogJycsCiAgICAgIGZpbGVMaXN0QXJyOiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBmaWxlTGlzdChuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCAhPT0gdGhpcy5maWxlQXJyU3RyRnJvbUNoaWxkKSB7CiAgICAgICAgdGhpcy5maWxlTGlzdEFyciA9IG5ld1ZhbCA/IG5ld1ZhbC5zcGxpdCgnLCcpIDogW107CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZShmaWxlQXJyKSB7CiAgICAgIGNvbnN0IHN0ciA9IGZpbGVBcnIuZmlsdGVyKHYgPT4gISF2KS5tYXAoKHsKICAgICAgICB1cmwKICAgICAgfSkgPT4gdXJsKS5qb2luKCcsJyk7CiAgICAgIHRoaXMuZmlsZUFyclN0ckZyb21DaGlsZCA9IHN0cjsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgc3RyKTsKICAgICAgdGhpcy5kaXNwYXRjaCgnRWxGb3JtSXRlbScsICdlbC5mb3JtLmNoYW5nZScsIFtzdHJdKTsKICAgIH0sCiAgICBoYW5kbGVDbGljaygpIHsKICAgICAgdGhpcy4kcmVmcy5maWxlVXBsb2FkZXIuJHJlZnMuaW1hZ2VVcGxvYWQuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5lbC11cGxvYWRfX2lucHV0JykuY2xpY2soKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"AAgBA;AACA;AAEA;EACAA;IACAC;EACA;EACAC;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;EACA;EACAO;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAZ;MACA;QACA;MACA;IACA;EACA;EACAa;IACAC;MACA;QAAAC;MAAA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["components","FileUpload","mixins","model","prop","event","props","fileList","type","default","limit","disabled","multiple","text","accept","required","data","fileArrStrFromChild","fileListArr","watch","methods","handleChange","url","handleClick"],"sourceRoot":"src/components/GlobalComponents/FileUpload","sources":["string.vue"],"sourcesContent":["<template>\r\n  <div class=\"custom-upload-files\" :class=\"required ? 'custom-upload-files-required': ''\">\r\n    <slot />\r\n    <el-button class=\"fake-btn\" type=\"primary\" size=\"mini\" @click.prevent.stop=\"handleClick\">上传</el-button>\r\n    <file-upload\r\n      ref=\"fileUploader\"\r\n      :file-list=\"fileListArr\"\r\n      :limit=\"limit\"\r\n      :multiple=\"multiple\"\r\n      :disabled=\"disabled\"\r\n      :accept=\"accept\"\r\n      @change=\"handleChange\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport FileUpload from './index.vue'\r\nimport Emitter from 'element-ui/src/mixins/emitter'\r\n\r\nexport default {\r\n  components: {\r\n    FileUpload\r\n  },\r\n  mixins: [Emitter],\r\n  model: {\r\n    prop: 'fileList',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    fileList: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    limit: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 组件是否支持多选上传(默认不支持)\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: '上传'\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: '.*'\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fileArrStrFromChild: '',\r\n      fileListArr: []\r\n    }\r\n  },\r\n  watch: {\r\n    fileList(newVal) {\r\n      if (newVal !== this.fileArrStrFromChild) {\r\n        this.fileListArr = newVal ? newVal.split(',') : []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(fileArr) {\r\n      const str = fileArr.filter(v => !!v).map(({ url }) => url).join(',')\r\n      this.fileArrStrFromChild = str\r\n      this.$emit('change', str)\r\n      this.dispatch('ElFormItem', 'el.form.change', [str])\r\n    },\r\n    handleClick() {\r\n      this.$refs.fileUploader.$refs.imageUpload.$el.querySelector('.el-upload__input').click()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped deep>\r\n    /deep/ .el-upload-list__item .el-icon-close-tip {\r\n      display: none !important;\r\n    }\r\n  .custom-upload-files {\r\n    \r\n    .fake-btn {\r\n      position: relative;\r\n      z-index: 2;\r\n    }\r\n\r\n    &.custom-upload-files-required:before {\r\n      content: '*';\r\n      color: #F56C6C;\r\n      margin-right: 4px;\r\n    }\r\n\r\n    ::v-deep .el-upload {\r\n      display: none;\r\n    }\r\n\r\n    ::v-deep .el-upload-list {\r\n      min-width: 50%;\r\n      max-width: 400px;\r\n      flex-direction: column;\r\n      // margin-left: 20px;\r\n\r\n      .el-upload-list__item:first-child {\r\n        margin-top: 0;\r\n      }\r\n    }\r\n  }\r\n  \r\n</style>\r\n"]}]}