{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\CustomTable\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\CustomTable\\index.vue","mtime":1642644134572},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\babel.config.js","mtime":1642644134550},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js","mtime":1668673148088},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgKiBhcyBwcm9wcyBmcm9tICcuL3Byb3BzLmpzJzsKaW1wb3J0IEdlbmVyYWxDb2x1bW4gZnJvbSAnLi9HZW5lcmFsQ29sdW1uJzsKaW1wb3J0IFNlbGVjdENvbHVtbiBmcm9tICcuL1NlbGVjdENvbHVtbic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBHZW5lcmFsQ29sdW1uLAogICAgU2VsZWN0Q29sdW1uCiAgfSwKICBwcm9wczogewogICAgLi4ucHJvcHMub3JpZ2luYWxQcm9wcywKICAgIC4uLnByb3BzLmN1c3RvbVByb3BzCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVIZWlnaHQ6IDAsCiAgICAgIC8vIOihqOagvOeahOm7mOiupOmrmOW6pgogICAgICByb3dJbmRleDogMCAvLyDnu4Tku7bljZXpgInlip/og73nmoTpgInkuK3lgLwKICAgIH07CiAgfSwKCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrHRhYmxlRGF0YeeahOW8guatpeivt+axgue7k+aenOWPmOWMlgogICAgdGFibGVEYXRhOiB7CiAgICAgIGhhbmRsZXIobnYsIG92KSB7CiAgICAgICAgLy8g6Iul57uE5Lu25byA5ZCv5Y2V6KGM6YCJ5oupLOW5tuS4lHRhYmxlRGF0YeS4jeS4uuepuuaVsOe7hAogICAgICAgIGlmIChudi5sZW5ndGggPiAwICYmIHRoaXMuaGlnaGxpZ2h0Q3VycmVudFJvdykgewogICAgICAgICAgLy8g5ZCR54i257uE5Lu25Y+R6YCB5Yid5aeL55qE6YCJ5Lit6KGM5pWw5o2uCiAgICAgICAgICB0aGlzLiRlbWl0KCdjdXJyZW50Q2hhbmdlJywgbnZbdGhpcy5yb3dJbmRleF0pOwogICAgICAgIH0KICAgICAgICAvLyDop6PlhrPooajmoLzlh7rnjrDmu5rliqjmnaHkuYvlkI50YWJsZeihqOagvOihqOWktOS4juWGheWuueWIl+S4jeWvuem9kOmXrumimAogICAgICAgIHRoaXMuZml4TGF5b3V0KCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIC8vIOebkeWQrOihqOagvOWLvumAiemhueeahOWPmOWMlgogICAgc2VsZWN0ZWRMaXN0OiB7CiAgICAgIGhhbmRsZXIobnYsIG92KSB7CiAgICAgICAgaWYgKG52Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIC8vIOiuvue9ruihqOagvOeahOm7mOiupOmAieS4remhuQogICAgICAgICAgdGhpcy50b2dnbGVTZWxlY3Rpb24obnYpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgLy8g55uR5ZCsbG9hZGluZ+eahOWPmOWMlgogICAgbG9hZGluZzogewogICAgICBoYW5kbGVyKG52LCBvdikge30sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIOiuoeeul+iHqumAguW6lOihqOagvOeahOmrmOW6pgogICAgdGhpcy5zZXRIZWlnaHQoKTsKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IHRoaXMuJHV0aWxzLmRlYm91bmNlKCgpID0+IHsKICAgICAgdGhpcy5zZXRIZWlnaHQoKTsKICAgIH0sIDMwMCk7CgogICAgLy8g55uR5ZCs6aG16Z2i5Lit5pys57uE5Lu255qEY29tcG9uZW50S2V55piv5ZCm6YeN5aSNCiAgICB0aGlzLmNvbXBvbmVudEtleVdhc1JlcGVhdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g56aB5q2i6aG16Z2i5Lit5Ye6546w6YeN5aSN55qEY29tcG9uZW50S2V5CiAgICBjb21wb25lbnRLZXlXYXNSZXBlYXQoKSB7CiAgICAgIC8vIOmhtemdouS4reWQjGlk55qE5pys57uE5Lu25pWw6YePCiAgICAgIGNvbnN0IGtleXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAjdGFibGVfJHt0aGlzLmNvbXBvbmVudEtleX1gKS5sZW5ndGg7CiAgICAgIGlmIChrZXlzID4gMSkgewogICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7CiAgICAgICAgLy8g6ZSZ6K+v5o+Q56S6OiDlgLzkuLoneHh4J+eahCdjb21wb25lbnRLZXkn5Ye6546w6YeN5aSN44CC6K+35Li65q+P5LiqJ2N1c3RvbS10YWJsZSfnu4Tku7borr7nva7kuI3lkIznmoQnY29tcG9uZW50S2V5JwogICAgICAgIGVycm9yLm1lc3NhZ2UgPSBgVGhlICdjb21wb25lbnRLZXknIHZhbHVlIG9mICR7dGhpcy5jb21wb25lbnRLZXl9IGlzIHJlcGVhdGVkLiBwbGVhc2Ugc2V0IGEgZGlmZmVyZW50ICdjb21wb25lbnRLZXknIGZvciBlYWNoICdjdXN0b20tdGFibGUnIGNvbXBvbmVudGA7CiAgICAgICAgLy8g5oqb5Ye66ZSZ6K+vCiAgICAgICAgdGhyb3cgZXJyb3I7CiAgICAgIH0KICAgIH0sCiAgICAvLyDop6PlhrPooajmoLzlh7rnjrDmu5rliqjmnaHkuYvlkI50YWJsZeihqOagvOihqOWktOS4juWGheWuueWIl+S4jeWvuem9kOmXrumimAogICAgZml4TGF5b3V0KCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5kb0xheW91dCgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAvLyB0aHJvdyAoZXJyb3IpCiAgICAgICAgfQogICAgICB9LCAxNTAwKTsKICAgIH0sCiAgICAvLyDoh6rliqjorr7nva7ooajmoLzpq5jluqYKICAgIHNldEhlaWdodCgpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIOayoeacieiuvue9rm1heC1oZWlnaHTml7bmiY3orqHnrpflm7rlrprpq5jluqYKICAgICAgICBpZiAoIXRoaXMubWF4SGVpZ2h0KSB7CiAgICAgICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRhYmxlXyR7dGhpcy5jb21wb25lbnRLZXl9YCkub2Zmc2V0SGVpZ2h0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5oyH5a6a6KGo5qC85aSa6YCJ6aG555qE5Yu+6YCJ54q25oCB5om56YeP5YiH5o2iCiAgICB0b2dnbGVTZWxlY3Rpb24ocm93cykgewogICAgICBpZiAocm93cy5sZW5ndGggPiAwKSB7CiAgICAgICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJlZnNbYHRhYmxlXyR7dGhpcy5jb21wb25lbnRLZXl9YF0udG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzW2B0YWJsZV8ke3RoaXMuY29tcG9uZW50S2V5fWBdLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bli77pgInpobkKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShyb3cpIHsKICAgICAgLy8gcm93OiDooYzmlbDmja4KICAgICAgdGhpcy4kZW1pdCgnZ2V0U2VsZWN0aW9uQ2hhbmdlJywgcm93KTsKICAgIH0sCiAgICAvLyDmuIXpmaTli77pgInpobkKICAgIGNsZWFyU2VsZWN0aW9uKCkgewogICAgICB0aGlzLiRyZWZzW2B0YWJsZV8ke3RoaXMuY29tcG9uZW50S2V5fWBdLmNsZWFyU2VsZWN0aW9uKCk7CiAgICB9LAogICAgLy8g6YCa6L+Hcm93LWNsYXNzLW5hbWXnmoTlm57osIPlh73mlbDnu5nmr4/kuIDooYzmlbDmja7orr7nva5pbmRleOWxnuaApwogICAgc2V0Um93SW5kZXgoewogICAgICByb3csCiAgICAgIHJvd0luZGV4CiAgICB9KSB7CiAgICAgIHJvdy5pbmRleCA9IHJvd0luZGV4OwogICAgfSwKICAgIC8vIOihqOagvOWNleihjOmAieaLqeS6i+S7tgogICAgaGFuZGxlQ3VycmVudENoYW5nZShyb3cpIHsKICAgICAgY29uc29sZS5sb2cocm93LCAn6KGo5qC85Y2V6KGM6YCJ5oup5LqL5Lu2Jyk7CiAgICAgIGlmIChyb3cpIHsKICAgICAgICAvLyDmm7TmlLlyYWRpb3PnmoTpgInkuK3lgLwKICAgICAgICB0aGlzLnJvd0luZGV4ID0gcm93LmluZGV4OwogICAgICAgIHRoaXMuJGVtaXQoJ2N1cnJlbnRDaGFuZ2UnLCByb3cpOwogICAgICB9CiAgICB9LAogICAgLyoqDQogICAgICogQG1ldGhvZCDlvZPooajmoLznmoTmjpLluo/mnaHku7blj5HnlJ/lj5jljJbnmoTml7blgJnkvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAYXJndW1lbnQge09iamVjdH0g5Zue6LCD5Ye95pWw6L+U5Zue55qE5Y+C5pWwDQogICAgICogQHBhcmFtIHtPYmplY3R9IGNvbHVtbjog5b2T5YmN54K55Ye755qE5YiXDQogICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3A6IOW9k+WJjeWIl+WvueW6lOeahOWtl+auteWQjeensA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlcjog5b2T5YmN5YiX55qE5o6S5bqP54q25oCBKGFzY2VuZGluZzog5Y2H5bqP77yMZGVzY2VuZGluZ++8mumZjeW6jykNCiAgICAgKi8KICAgIHNvcnRDaGFuZ2UoewogICAgICBjb2x1bW4sCiAgICAgIHByb3AsCiAgICAgIG9yZGVyCiAgICB9KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3NvcnRDaGFuZ2UnLCB7CiAgICAgICAgY29sdW1uLAogICAgICAgIHByb3AsCiAgICAgICAgb3JkZXIKICAgICAgfSk7CiAgICB9LAogICAgLy8g5ZCI5bm25Y2V5YWD5qC8CiAgICBzcGFuTWV0aG9kKHsKICAgICAgcm93LAogICAgICBjb2x1bW4sCiAgICAgIHJvd0luZGV4LAogICAgICBjb2x1bW5JbmRleAogICAgfSkgewogICAgICByZXR1cm4gdGhpcy5tZXJnZU1ldGhvZCh7CiAgICAgICAgcm93LAogICAgICAgIGNvbHVtbiwKICAgICAgICByb3dJbmRleCwKICAgICAgICBjb2x1bW5JbmRleCwKICAgICAgICB0YWJsZURhdGE6IHRoaXMudGFibGVEYXRhCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWNleWFg+agvOeCueWHu+S6i+S7tgogICAgZWRpdENlbGwocm93LCBjb2x1bW4sIGNlbGwsIGV2ZW50KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJvdykKICAgICAgdGhpcy4kZW1pdCgnY2VsbENsaWNrJywgewogICAgICAgIHJvdywKICAgICAgICBjb2x1bW4sCiAgICAgICAgY2VsbCwKICAgICAgICBldmVudAogICAgICB9KTsKICAgIH0sCiAgICAvLyDljZXlhYPmoLzlhoXnmoTovpPlhaXmoYblpLHljrvnhKbngrnml7bop6blj5EKICAgIGNlbGxJbnB1dEJsdXIoewogICAgICBlLAogICAgICByb3csCiAgICAgIGNvbHVtbgogICAgfSkgewogICAgICAvLyBjb25zb2xlLmxvZyhlLnRhcmdldC52YWx1ZSwgcm93LCBjb2x1bW4pCiAgICAgIHRoaXMuJGVtaXQoJ2NlbGxJbnB1dEJsdXInLCB7CiAgICAgICAgZSwKICAgICAgICByb3csCiAgICAgICAgY29sdW1uCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";AAiFA;AACA;AACA;AAEA;EACAA;IACAC;IACAC;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACAC;MACAC;QACA;QACA;UACA;UACA;QACA;QACA;QACA;MACA;MACAC;MACAC;IACA;IAEA;IACAC;MACAH;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IAEA;IACAE;MACAJ,iBACA;MACAC;MACAC;IACA;EACA;EACAG;IACA;IACA;IACAC;MACA;IACA;;IAEA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACAC;QACA;QACA;MACA;IACA;IAEA;IACAC;MACAC;QACA;UACA;QACA;UACA;QAAA;MAEA;IACA;IAEA;IACAC;MACA;QACA;QACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACAC;UACA;YACA;UACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAAC;MAAArB;IAAA;MACAqB;IACA;IAEA;IACAC;MACAC;MACA;QACA;QACA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MAAAC;MAAAC;MAAAC;IAAA;MACA;QAAAF;QAAAC;QAAAC;MAAA;IACA;IAEA;IACAC;MAAAP;MAAAI;MAAAzB;MAAA6B;IAAA;MACA;QAAAR;QAAAI;QAAAzB;QAAA6B;QAAA3B;MAAA;IACA;IAEA;IACA4B;MACA;MACA;QAAAT;QAAAI;QAAAM;QAAAC;MAAA;IACA;IAEA;IACAC;MAAAC;MAAAb;MAAAI;IAAA;MACA;MACA;QAAAS;QAAAb;QAAAI;MAAA;IACA;EACA;AACA","names":["components","GeneralColumn","SelectColumn","props","data","tableHeight","rowIndex","watch","tableData","handler","deep","immediate","selectedList","loading","mounted","window","methods","componentKeyWasRepeat","error","fixLayout","setTimeout","setHeight","toggleSelection","rows","handleSelectionChange","clearSelection","setRowIndex","row","handleCurrentChange","console","sortChange","column","prop","order","spanMethod","columnIndex","editCell","cell","event","cellInputBlur","e"],"sourceRoot":"src/components/GlobalComponents/CustomTable","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div :id=\"`table_${componentKey}`\" :class=\"maxHeight?'fluid-table':'table-view'\">\r\n    <el-table\r\n      :ref=\"`table_${componentKey}`\"\r\n      v-loading=\"loading\"\r\n      :data=\"tableData\"\r\n      :height=\"tableHeight || customHeight\"\r\n      :default-sort=\"defaultSort\"\r\n      :max-height=\"maxHeight\"\r\n      :highlight-current-row=\"highlightCurrentRow\"\r\n      :row-class-name=\"setRowIndex\"\r\n      :border=\"border\"\r\n      :header-cell-style=\"{background:'#f2f2f2',color:'#555'}\"\r\n      :span-method=\"spanMethod\"\r\n      fit\r\n      stripe\r\n      header-row-class-name=\"table-header\"\r\n      @selection-change=\"handleSelectionChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      @sort-change=\"sortChange\"\r\n      @cell-click=\"editCell\"\r\n    >\r\n      <!-- 单选按钮列 -->\r\n      <el-table-column\r\n        v-if=\"highlightCurrentRow\"\r\n        fixed\r\n        prop=\"index\"\r\n        label=\"选择\"\r\n        align=\"center\"\r\n        width=\"55\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-radio v-model=\"rowIndex\" :label=\"scope.row.index\"><i /></el-radio>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <!-- 多选按钮列(无法与单选列同时显示,单选/多选同时设置启用时,默认只启用单选列) -->\r\n      <el-table-column\r\n        v-if=\"selection && !highlightCurrentRow\"\r\n        fixed\r\n        align=\"center\"\r\n        type=\"selection\"\r\n        width=\"55\"\r\n      />\r\n\r\n      <!-- 序号列，使表格每行数据可以取到index属性 -->\r\n      <el-table-column\r\n        v-if=\"indexVisible\"\r\n        type=\"index\"\r\n        label=\"序号\"\r\n        align=\"center\"\r\n        width=\"50\"\r\n      />\r\n\r\n      <slot name=\"beforeSlot\" />\r\n\r\n      <template v-for=\"(item, index) in columnList\">\r\n        <select-column\r\n          v-if=\"item.type && item.type === 'selection'\"\r\n          :key=\"index\"\r\n          :column=\"item\"\r\n          :index=\"index\"\r\n        />\r\n\r\n        <general-column\r\n          v-else\r\n          :key=\"index\"\r\n          :column=\"item\"\r\n          :index=\"index\"\r\n          :empty-cell=\"emptyCell\"\r\n          @cellInputBlur=\"cellInputBlur\"\r\n        />\r\n      </template>\r\n\r\n      <slot />\r\n\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as props from './props.js'\r\nimport GeneralColumn from './GeneralColumn'\r\nimport SelectColumn from './SelectColumn'\r\n\r\nexport default {\r\n  components: {\r\n    GeneralColumn,\r\n    SelectColumn\r\n  },\r\n  props: {\r\n    ...props.originalProps,\r\n    ...props.customProps\r\n  },\r\n  data() {\r\n    return {\r\n      tableHeight: 0, // 表格的默认高度\r\n      rowIndex: 0 // 组件单选功能的选中值\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听tableData的异步请求结果变化\r\n    tableData: {\r\n      handler(nv, ov) {\r\n        // 若组件开启单行选择,并且tableData不为空数组\r\n        if (nv.length > 0 && this.highlightCurrentRow) {\r\n          // 向父组件发送初始的选中行数据\r\n          this.$emit('currentChange', nv[this.rowIndex])\r\n        }\r\n        // 解决表格出现滚动条之后table表格表头与内容列不对齐问题\r\n        this.fixLayout()\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n\r\n    // 监听表格勾选项的变化\r\n    selectedList: {\r\n      handler(nv, ov) {\r\n        if (nv.length > 0) {\r\n          // 设置表格的默认选中项\r\n          this.toggleSelection(nv)\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n\r\n    // 监听loading的变化\r\n    loading: {\r\n      handler(nv, ov) {\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted() {\r\n    // 计算自适应表格的高度\r\n    this.setHeight()\r\n    window.onresize = this.$utils.debounce(() => {\r\n      this.setHeight()\r\n    }, 300)\r\n\r\n    // 监听页面中本组件的componentKey是否重复\r\n    this.componentKeyWasRepeat()\r\n  },\r\n  methods: {\r\n    // 禁止页面中出现重复的componentKey\r\n    componentKeyWasRepeat() {\r\n      // 页面中同id的本组件数量\r\n      const keys = document.querySelectorAll(`#table_${this.componentKey}`).length\r\n      if (keys > 1) {\r\n        const error = new Error()\r\n        // 错误提示: 值为'xxx'的'componentKey'出现重复。请为每个'custom-table'组件设置不同的'componentKey'\r\n        error.message = `The 'componentKey' value of ${this.componentKey} is repeated. please set a different 'componentKey' for each 'custom-table' component`\r\n        // 抛出错误\r\n        throw (error)\r\n      }\r\n    },\r\n\r\n    // 解决表格出现滚动条之后table表格表头与内容列不对齐问题\r\n    fixLayout() {\r\n      setTimeout(() => {\r\n        try {\r\n          this.$refs.table.doLayout()\r\n        } catch (error) {\r\n          // throw (error)\r\n        }\r\n      }, 1500)\r\n    },\r\n\r\n    // 自动设置表格高度\r\n    setHeight() {\r\n      this.$nextTick(() => {\r\n        // 没有设置max-height时才计算固定高度\r\n        if (!this.maxHeight) {\r\n          this.tableHeight = document.getElementById(`table_${this.componentKey}`).offsetHeight\r\n        }\r\n      })\r\n    },\r\n\r\n    // 指定表格多选项的勾选状态批量切换\r\n    toggleSelection(rows) {\r\n      if (rows.length > 0) {\r\n        rows.forEach(row => {\r\n          this.$nextTick(() => {\r\n            this.$refs[`table_${this.componentKey}`].toggleRowSelection(row)\r\n          })\r\n        })\r\n      } else {\r\n        this.$refs[`table_${this.componentKey}`].clearSelection()\r\n      }\r\n    },\r\n\r\n    // 获取勾选项\r\n    handleSelectionChange(row) {\r\n      // row: 行数据\r\n      this.$emit('getSelectionChange', row)\r\n    },\r\n\r\n    // 清除勾选项\r\n    clearSelection() {\r\n      this.$refs[`table_${this.componentKey}`].clearSelection()\r\n    },\r\n\r\n    // 通过row-class-name的回调函数给每一行数据设置index属性\r\n    setRowIndex({ row, rowIndex }) {\r\n      row.index = rowIndex\r\n    },\r\n\r\n    // 表格单行选择事件\r\n    handleCurrentChange(row) {\r\n      console.log(row, '表格单行选择事件')\r\n      if (row) {\r\n        // 更改radios的选中值\r\n        this.rowIndex = row.index\r\n        this.$emit('currentChange', row)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @method 当表格的排序条件发生变化的时候会触发该事件\r\n     * @argument {Object} 回调函数返回的参数\r\n     * @param {Object} column: 当前点击的列\r\n     * @param {String} prop: 当前列对应的字段名称\r\n     * @param {String} order: 当前列的排序状态(ascending: 升序，descending：降序)\r\n     */\r\n    sortChange({ column, prop, order }) {\r\n      this.$emit('sortChange', { column, prop, order })\r\n    },\r\n\r\n    // 合并单元格\r\n    spanMethod({ row, column, rowIndex, columnIndex }) {\r\n      return this.mergeMethod({ row, column, rowIndex, columnIndex, tableData: this.tableData })\r\n    },\r\n\r\n    // 单元格点击事件\r\n    editCell(row, column, cell, event) {\r\n      // console.log(row)\r\n      this.$emit('cellClick', { row, column, cell, event })\r\n    },\r\n\r\n    // 单元格内的输入框失去焦点时触发\r\n    cellInputBlur({ e, row, column }) {\r\n      // console.log(e.target.value, row, column)\r\n      this.$emit('cellInputBlur', { e, row, column })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  %tableStyle {\r\n    width: 100%;\r\n\r\n    .el-table {\r\n      width: 100%;\r\n\r\n      .el-radio__label {\r\n        padding: 0px; /* 清除el-radio组件默认的内边距 */\r\n      }\r\n\r\n      .cell {\r\n        width: 100% !important;\r\n      }\r\n    }\r\n        .custom-upload {\r\n      /* 解决图片上传后单元格变形问题 */\r\n      ::deep .el-upload-list {\r\n        line-height: 0px;\r\n      }\r\n    }\r\n\r\n    /* 解决element-ui的table表格表头与内容列不对齐问题 */\r\n    th.gutter {\r\n      display: table-cell !important;\r\n    }\r\n\r\n    /* 解决element-ui的fixed列错位问题 */\r\n    .el-table__fixed {\r\n      display: table-cell !important;\r\n      height: 100% !important;\r\n\r\n      .el-table__fixed-body-wrapper {\r\n        top: 48px !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  .table-view {\r\n    @extend %tableStyle;\r\n    flex: 1;\r\n  }\r\n\r\n  .fluid-table {\r\n    @extend %tableStyle;\r\n    height: max-content;\r\n\r\n    .el-table {\r\n      height: 100% !important;\r\n    }\r\n  }\r\n</style>\r\n"]}]}