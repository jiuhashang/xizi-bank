{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\utils\\request.js","mtime":1646815429465},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\babel.config.js","mtime":1642644134550},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js","mtime":1668673148088}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZUJveCwgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwovLyBpbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZScKLy8gaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnCmltcG9ydCBpc09iamVjdCBmcm9tICdsb2Rhc2gvaXNPYmplY3QnOwovLyBjcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgLy8gYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwgLy8gdXJsID0gYmFzZSB1cmwgKyByZXF1ZXN0IHVybAogIC8vIGJhc2VVUkw6ICdodHRwOi8vMTAuMTEuMzIuNTI6NzgwMCcsCiAgYmFzZVVSTDogJy94aXppLWFwaScsCiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywKICAgICdSZXEtT3JpZ2luJzogJ3dlYicKICB9LAogIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAoZGF0YSwgaGVhZGVyKSB7CiAgICBpZiAoaGVhZGVyICYmIGlzT2JqZWN0KGRhdGEpKSB7CiAgICAgIGNvbnN0IGN0ID0gKGhlYWRlclsnQ29udGVudC1UeXBlJ10gfHwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgIC8vIGZvcm0g5pWw5o2u5qC85byP6L2s5o2iCiAgICAgIGlmIChjdC5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSAhPT0gLTEpIHsKICAgICAgICBsZXQgc3JjID0gJyc7CiAgICAgICAgZm9yIChjb25zdCBpdGVtIGluIGRhdGEpIHsKICAgICAgICAgIHNyYyArPSBlbmNvZGVVUklDb21wb25lbnQoaXRlbSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtpdGVtXSkgKyAnJic7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzcmMucmVwbGFjZSgvJiQvLCAnJyk7CiAgICAgIH0KCiAgICAgIC8vIGpzb24g5qC85byPCiAgICAgIGlmIChjdC5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgIT09IC0xKSB7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZGF0YTsKICB9XSwKICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIC8vIHNlbmQgY29va2llcyB3aGVuIGNyb3NzLWRvbWFpbiByZXF1ZXN0cwogIHRpbWVvdXQ6IDUwMDAwIC8vIHJlcXVlc3QgdGltZW91dAp9KTsKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgLy8gZG8gc29tZXRoaW5nIGJlZm9yZSByZXF1ZXN0IGlzIHNlbnQKICAvLyBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogIC8vIGxldCBlYWNoIHJlcXVlc3QgY2FycnkgdG9rZW4KICAvLyBbJ1gtVG9rZW4nXSBpcyBhIGN1c3RvbSBoZWFkZXJzIGtleQogIC8vIHBsZWFzZSBtb2RpZnkgaXQgYWNjb3JkaW5nIHRvIHRoZSBhY3R1YWwgc2l0dWF0aW9uCiAgLy8gY29uZmlnLmhlYWRlcnNbJ1gtVG9rZW4nXSA9IGdldFRva2VuKCkKICBjb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIC8vIH0KICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvciAvLyBjb25zb2xlLmxvZyhlcnJvcikgLy8gZm9yIGRlYnVnCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgKLyoqDQogKiBJZiB5b3Ugd2FudCB0byBnZXQgaHR0cCBpbmZvcm1hdGlvbiBzdWNoIGFzIGhlYWRlcnMgb3Igc3RhdHVzDQogKiBQbGVhc2UgcmV0dXJuICByZXNwb25zZSA9PiByZXNwb25zZQ0KKi8KLyoqDQogKiBEZXRlcm1pbmUgdGhlIHJlcXVlc3Qgc3RhdHVzIGJ5IGN1c3RvbSBjb2RlDQogKiBIZXJlIGlzIGp1c3QgYW4gZXhhbXBsZQ0KICogWW91IGNhbiBhbHNvIGp1ZGdlIHRoZSBzdGF0dXMgYnkgSFRUUCBTdGF0dXMgQ29kZQ0KICovCnJlc3BvbnNlID0+IHsKICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOyAvLyBpZiB0aGUgY3VzdG9tIGNvZGUgaXMgbm90IDIwMDAwLCBpdCBpcyBqdWRnZWQgYXMgYW4gZXJyb3IuCiAgaWYgKHJlcy5jb2RlICE9PSAwKSB7CiAgICB2YXIgX3Jlc3BvbnNlJGNvbmZpZzsKICAgIGlmIChyZXMuY29kZSA9PT0gNDAxICYmICEvYWRtaW5cL3NlQWRtaW5Vc2VyXC9nZXRVc2VySW5mbyQvLnRlc3QocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVzcG9uc2UkY29uZmlnID0gcmVzcG9uc2UuY29uZmlnKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkY29uZmlnLnVybCkpIHsKICAgICAgLy8g6Z2e6I635Y+W55So5oi35L+h5oGv5o6l5Y+jCiAgICAgIC8vIHRvIHJlLWxvZ2luCiAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn5b2T5YmN55m75b2V5L+h5oGv5bey5aSx5pWI77yM5piv5ZCm5YmN5b6A55m75b2V6aG177yfJywgJ+eZu+mZhuehruiupCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WOu+eZu+W9lScsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL3Jlc2V0VG9rZW4nKS50aGVuKCgpID0+IHsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChjb25zb2xlLndhcm4pOwogICAgfSBlbHNlIHsKICAgICAgTWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogcmVzLm1zZyB8fCAnRXJyb3InLAogICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwLAogICAgICAgIGN1c3RvbUNsYXNzOiAnei1pbmRleC00MDAwJwogICAgICB9KTsKICAgIH0KICAgIC8vIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IocmVzLm1zZyB8fCAnRXJyb3InKSkKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMubXNnIHx8ICdFcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzOwogIH0KfSwgZXJyb3IgPT4gewogIHZhciBfZXJyb3IkcmVzcG9uc2UsIF9lcnJvciRyZXNwb25zZSRkYXRhOwogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKICBNZXNzYWdlKHsKICAgIG1lc3NhZ2U6IGVycm9yLm1zZyB8fCAoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyb3IkcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9yJHJlc3BvbnNlJGRhdGEgPSBfZXJyb3IkcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZSRkYXRhLmVycm9yKSwKICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogNSAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","MessageBox","Message","isObject","service","create","baseURL","headers","transformRequest","data","header","ct","toLowerCase","indexOf","src","item","encodeURIComponent","replace","JSON","stringify","timeout","interceptors","request","use","config","window","sessionStorage","getItem","error","Promise","reject","response","res","code","test","url","confirm","confirmButtonText","cancelButtonText","type","then","store","dispatch","location","reload","catch","console","warn","message","msg","duration","customClass","log"],"sources":["C:/Users/ylf/Desktop/xizi - bank/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { MessageBox, Message } from 'element-ui'\r\n// import store from '@/store'\r\n// import { getToken } from '@/utils/auth'\r\nimport isObject from 'lodash/isObject'\r\n// create an axios instance\r\nconst service = axios.create({\r\n  // baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\r\n  // baseURL: 'http://10.11.32.52:7800',\r\n  baseURL: '/xizi-api',\r\n  headers: {\r\n    'Content-Type': 'application/json; charset=utf-8',\r\n    'Req-Origin': 'web'\r\n  },\r\n  transformRequest: [function (data, header) {\r\n    if (header && isObject(data)) {\r\n      const ct = (header['Content-Type'] || '').toLowerCase()\r\n      // form 数据格式转换\r\n      if (ct.indexOf('application/x-www-form-urlencoded') !== -1) {\r\n        let src = ''\r\n        for (const item in data) {\r\n          src += encodeURIComponent(item) + '=' + encodeURIComponent(data[item]) + '&'\r\n        }\r\n        return src.replace(/&$/, '')\r\n      }\r\n\r\n      // json 格式\r\n      if (ct.indexOf('application/json') !== -1) {\r\n        return JSON.stringify(data)\r\n      }\r\n    }\r\n\r\n    return data\r\n  }],\r\n  // withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 50000 // request timeout\r\n})\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // do something before request is sent\r\n    // if (store.getters.token) {\r\n      // let each request carry token\r\n      // ['X-Token'] is a custom headers key\r\n      // please modify it according to the actual situation\r\n      // config.headers['X-Token'] = getToken()\r\n      config.headers['token'] = window.sessionStorage.getItem('token')\r\n    // }\r\n    return config\r\n  },\r\n  error => { // do something with request error // console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\nservice.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n  */\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  response => {\r\n    const res = response.data // if the custom code is not 20000, it is judged as an error.\r\n    if (res.code !== 0) {\r\n      if (res.code === 401 && !(/admin\\/seAdminUser\\/getUserInfo$/.test(response?.config?.url))) { // 非获取用户信息接口\r\n        // to re-login\r\n        MessageBox.confirm('当前登录信息已失效，是否前往登录页？', '登陆确认', {\r\n          confirmButtonText: '去登录',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          store.dispatch('user/resetToken').then(() => {\r\n            location.reload()\r\n          })\r\n        }).catch(console.warn)\r\n      } else {\r\n        Message({\r\n          message: res.msg || 'Error',\r\n          type: 'error',\r\n          duration: 5 * 1000,\r\n          customClass: 'z-index-4000'\r\n        })\r\n      }\r\n      // return Promise.reject(new Error(res.msg || 'Error'))\r\n      return Promise.reject(res.msg || 'Error')\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.msg || error?.response?.data?.error,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\nexport default service\r\n"],"mappings":"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"}]}