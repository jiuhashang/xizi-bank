{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\index.vue","mtime":1645171713969},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\babel.config.js","mtime":1642644134550},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js","mtime":1668673148088},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IG50aCBmcm9tICdsb2Rhc2gvbnRoJzsKaW1wb3J0IHNwbGl0IGZyb20gJ2xvZGFzaC9zcGxpdCc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvLyDop4bpopHkuIrkvKDnmoTmjqXlj6PlnLDlnYAKICAgIGFjdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIC8vIGRlZmF1bHQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEkgKyAnL2h1YXdlaS91cGxvYWRGaWxlJwogICAgICBkZWZhdWx0OiAnaHR0cDovLzEyMy42MC41Mi4xNDA6NzgwMC9odWF3ZWkvdXBsb2FkRmlsZScKICAgIH0sCiAgICAvLyDnu4Tku7bmmK/lkKbmlK/mjIHlpJrpgInkuIrkvKAo6buY6K6k5LiN5pSv5oyBKQogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyAg5piv5ZCm5pi+56S65paH5Lu25YiX6KGoKOm7mOiupOaYvuekuikKICAgIHNob3dGaWxlTGlzdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5LiK5Lyg6KeG6aKR55qE5pWw6YeP6ZmQ5Yi2CiAgICBsaW1pdDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICAvLyDkuIrkvKDpop3lpJbluKbnmoTlj4LmlbAKICAgIGRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAvLyAncHJpRml4JzogJ2FkbWluRmlsZScKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLy8g5YWB6K645LiK5Lyg55qE5paH5Lu257G75Z6LCiAgICBhY2NlcHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnLionCiAgICB9LAogICAgLy8g5paH5Lu257yp55Wl5Zu+5YiX6KGoKOivpeaVsOe7hOeahOavj+S4gOmhueWPquiDveaYr+Wtl+espuS4suaIluiAheWvueixoSkKICAgIGZpbGVMaXN0OiB7CiAgICAgIHR5cGU6IFtBcnJheSwgU3RyaW5nXSwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyDlpoLmnpxmaWxlTGlzdOacieaVsOe7hOmhueaYr+WvueixoeWImeaMh+WumuWvueixoeeahOS4gOS4quWxnuaAp+S9nOS4uuaWh+S7tuWvueixoXVybOWxnuaAp+WAvCjpu5jorqTmmK/or6Xlr7nosaHnmoR1cmzlsZ7mgKfooajnpLrmlofku7bot6/lvoQpCiAgICBmaWxlS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3VybCcKICAgIH0sCiAgICB0ZXh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+S4iuS8oCcKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIGJhc2VVcmw6IHRoaXMuJGNvbmZpZy5iYXNlVXJsLAogICAgICBiYXNlVXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0lNQUdFX1VSTCwKICAgICAgdmlkZW9Vcmw6ICcnLAogICAgICAvLyDlvZPliY3mn6XnnIvop4bpopHnmoTot6/lvoQKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOinhumikeafpeeci+ahhueahOaYvuekuueKtuaAgQogICAgICBjdXJyZW50TGlzdDogW10sCiAgICAgIC8vIOW3suS4iuS8oOeahOaWh+S7tgogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiuoeeul+e7hOS7tumcgOimgeWxleekuueahOaWh+S7tue8qeeVpeWbvuWIl+ihqOaVsOaNrgogICAgZmlsZXMoKSB7CiAgICAgIC8vIOe8qeeVpeWbvuWIl+ihqAogICAgICBjb25zdCBmaWxlcyA9IFtdOwoKICAgICAgLy8g5aaC5p6c54i257uE5Lu25rKh5pyJ5Lyg5YWl57yp55Wl5Zu+5YiX6KGo5pWw5o2uCiAgICAgIGlmICh0aGlzLmZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgICAgLy8g5aaC5p6c54i257uE5Lu25rKh5pyJ5Lyg5YWl57yp55Wl5Zu+5YiX6KGo5pWw5o2uCiAgICAgIGlmICh0eXBlb2YgdGhpcy5maWxlTGlzdCA9PT0gJ3N0cmluZycgJiYgdGhpcy5maWxlTGlzdCA9PT0gJycpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KCiAgICAgIC8vIOiLpeeItue7hOS7tuS8oOWFpeS6huS4gOS4quWtl+espuS4suS9nOS4uue8qeeVpeWbvuWIl+ihqOeahOaYvuekuuaVsOaNrgogICAgICBpZiAodHlwZW9mIHRoaXMuZmlsZUxpc3QgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgLy8g5Yik5pat6K+l5a2X56ym5Liy5piv5ZCm5piv55Sx5aSa5byg5Zu+54mH55qE5Zyw5Z2A5ou85o6l6ICM5oiQCiAgICAgICAgaWYgKHRoaXMuZmlsZUxpc3QuaW5jbHVkZXMoJywnKSkgewogICAgICAgICAgY29uc3QgZmlsZUxpc3QgPSB0aGlzLmZpbGVMaXN0LnNwbGl0KCcsJyk7CiAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZUxpc3QpIHsKICAgICAgICAgICAgZmlsZXMucHVzaCh0aGlzLnBhdGhUb0ZpbGUoZmlsZSkpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZpbGVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlsIblhbbkvZzkuLrmlbDnu4TpobnliqDlhaXmlbDnu4Tlubbnm7TmjqXov5Tlm57nu5PmnpwKICAgICAgICAgIGZpbGVzLnB1c2godGhpcy5wYXRoVG9GaWxlKHRoaXMuZmlsZUxpc3QpKTsKICAgICAgICAgIHJldHVybiBmaWxlczsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIOiLpeeItue7hOS7tuS8oOWFpee8qeeVpeWbvuWIl+ihqOeahOaYvuekuuaVsOaNruaYr+S4gOS4quaVsOe7hAogICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuZmlsZUxpc3QpIHsKICAgICAgICAvLyDliKTmlq3kvKDlhaXnmoTmlbDnu4Tmr4/kuIDpobnmmK/lkKbmmK/kuIDkuKrlrZfnrKbkuLIKICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAvLyDlsIblrZfnrKbkuLLovazmiJDmlbDnu4Qo5aSE55CGL+WNleS4quaVsOe7hOmhuS/kuLrlpJrlvKDlm77niYfnmoTlnLDlnYDmi7zmjqUs5bm25Lul6YCX5Y+35YiG6ZqU55qE5a2X56ym5LiyL+eahOaDheWGtSkKICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCcsJyk7CiAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgaXRlbSkgewogICAgICAgICAgICBmaWxlcy5wdXNoKHRoaXMucGF0aFRvRmlsZShmaWxlKSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgIC8vIOWmguaenOaVsOe7hOeahOavj+S4gOmhueaYr+WvueixoSzliJnmjIflrprlr7nosaHnmoTkuIDkuKrlsZ7mgKfkvZzkuLrmlofku7blr7nosaF1cmzlsZ7mgKflgLwKICAgICAgICAgIGZpbGVzLnB1c2godGhpcy5wYXRoVG9GaWxlKGl0ZW1bdGhpcy5maWxlS2V5XSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcigpOwogICAgICAgICAgLy8g5pWw57uE5Lit5p+Q5Lqb6aG555qE5pWw5o2u57G75Z6L5LiN5q2j56GuKOaXouS4jeaYr1N0cmluZ+S5n+S4jeaYr09iamVjdCkKICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnSW5jb3JyZWN0IGRhdGEgdHlwZSBmb3Igc29tZSBpdGVtcyBpbiB0aGUgYXJyYXkhJzsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZmlsZXM7CiAgICB9LAogICAgLy8g5bey5LiK5Lyg55qE5paH5Lu25pWw6YePCiAgICBsaXN0TGVuZ3RoKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50TGlzdC5sZW5ndGg7CiAgICB9LAogICAgLy8g5Yid5aeL55qE5paH5Lu25pWw6YePCiAgICBmaWxlc0xlbmd0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsZXMubGVuZ3RoOwogICAgfSwKICAgIC8vIOWbvueJh+S4iuS8oOeahOaOpeWPo+WcsOWdgAogICAgdXBsb2FkVXJsKCkgewogICAgICByZXR1cm4gdGhpcy5hY3Rpb24gfHwgYCR7dGhpcy5iYXNlVXJsfWA7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs5b2T5YmN5bey5LiK5Lyg5paH5Lu255qE5pWw6YeP5piv5ZCm6LaF6L+H6ZmQ5Yi25pWw6YePKOaOp+WItuS4iuS8oOaMiemSrueahOaYvuekuuWSjOmakOiXjykKICAgIGxpc3RMZW5ndGg6IHsKICAgICAgaGFuZGxlcihudiwgb3YpIHsKICAgICAgICBpZiAobnYgPCB0aGlzLmxpbWl0KSB7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc2hvd1BpY3R1cmVDYXJkVXBsb2FkKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLmhpZGVQaWN0dXJlQ2FyZFVwbG9hZCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICAgIC8vCiAgICAvLyAvLyDnm5HlkKznu4Tku7bliJ3lp4vmlofku7bnmoTmlbDph4/mmK/lkKbotoXov4fpmZDliLbmlbDph48o5o6n5Yi25LiK5Lyg5oyJ6ZKu55qE5pi+56S65ZKM6ZqQ6JePKQogICAgLy8gZmlsZXNMZW5ndGg6IHsKICAgIC8vICAgaGFuZGxlcihudiwgb3YpIHsKICAgIC8vICAgICBpZiAobnYgPCB0aGlzLmxpbWl0KSB7CiAgICAvLyAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuc2hvd1BpY3R1cmVDYXJkVXBsb2FkKCkKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5oaWRlUGljdHVyZUNhcmRVcGxvYWQoKQogICAgLy8gICAgICAgfSkKICAgIC8vICAgICB9CiAgICAvLyAgIH0sCiAgICAvLyAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgIC8vICAgZGVlcDogdHJ1ZQogICAgLy8gfQogIH0sCgogIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyAvLyDmn6XnnIvlt7LpgInop4bpopEKICAgIC8vIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKGZpbGUpCiAgICAvLyAgIC8vIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybCAvLyDmn6XnnIvop4bpopHnmoTot6/lvoQoZmlsZS5yZXNwb25zZeS5n+iDveaYvuekuu+8jHVybOaYr+aWh+S7tueahOacrOWcsOi3r+W+hO+8jHJlc3BvbnNl5piv5LiK5Lyg5pyN5Yqh5Zmo5LmL5ZCO5o6l5Y+j6L+U5Zue55qE57q/5LiK5Zyw5Z2AKQogICAgLy8gICB0aGlzLnZpZGVvVXJsID0gZmlsZS5yZXNwb25zZQogICAgLy8gICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlIC8vIOaYvuekuuinhumikeafpeeci+ahhgogICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnZpZGVvVXJsKQogICAgLy8gfSwKCiAgICBiZWZvcmVVcGxvYWQoKSB7CiAgICAgIHRoaXMuaGVhZGVycy50b2tlbiA9IGdldFRva2VuKCk7CiAgICB9LAogICAgLy8g5Yig6Zmk5paH5Lu25LmL5YmN55qE6ZKp5a2Q77yM5Y+C5pWw5Li65LiK5Lyg55qE5paH5Lu25ZKM5paH5Lu25YiX6KGo77yM6Iul6L+U5ZueIGZhbHNlIOaIluiAhei/lOWbniBQcm9taXNlIOS4lOiiqyByZWplY3TvvIzliJnlgZzmraLliKDpmaTjgIIKICAgIGJlZm9yZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICByZXR1cm4gdGhpcy4kY29uZmlybShg56Gu5a6a56e76ZmkICR7ZmlsZS5uYW1lfe+8n2ApOwogICAgfSwKICAgIC8vIOaWh+S7tuWIl+ihqOenu+mZpOaWh+S7tuaXtueahOmSqeWtkAogICAgaGFuZGxlSW1nUmVtb3ZlKGZpbGUsIGZpbGVsaXN0KSB7CiAgICAgIC8vIOabtOaWsOW3suS4iuS8oOeahOaWh+S7tuWIl+ihqAogICAgICB0aGlzLmN1cnJlbnRMaXN0ID0gZmlsZWxpc3Q7CiAgICAgIC8vIOmAmui/h+aVsOe7hOWvueixoeeahOmdmeaAgeaWueazlSJmcm9tIuW+l+WIsOWJqeS9meWbvueJh+eahOe6v+S4iuWcsOWdgChyZXNwb25zZSnnu4TmiJDnmoTmlbDnu4QKICAgICAgbGV0IGFycmF5ID0gQXJyYXkuZnJvbShmaWxlbGlzdCwgKHsKICAgICAgICByZXNwb25zZQogICAgICB9KSA9PiByZXNwb25zZSk7CiAgICAgIC8vIHJlc3BvbnNl5Li65o6l5Y+j6L+U5Zue55qE5ZON5bqU5L2T5a+56LGh5pe2LOS7juWTjeW6lOS9k+S4reWPluWHuuWbvueJh+WcsOWdgOWGjee7hOaIkOaVsOe7hCjoi6XmjqXlj6Pnm7TmjqXov5Tlm57lm77niYflnLDlnYDlj6/ms6jph4rmraTlpITku6PnoIEpCiAgICAgIGFycmF5ID0gQXJyYXkuZnJvbShhcnJheSwgKHsKICAgICAgICBkYXRhCiAgICAgIH0pID0+IGRhdGEpOwogICAgICAvLyBmaWxlOuWIoOmZpOeahOaWh+S7tuWvueixoTsgZmlsZWxpc3Q65Yig6Zmk5a6M5oiQ5LmL5ZCO5Ymp5LiL55qE5paH5Lu25YiX6KGoKOWIoOWujOS6huWwseaYr+S4quepuuaVsOe7hCkKICAgICAgdGhpcy4kZW1pdCgncmVtb3ZlJywgYXJyYXksIGZpbGUsIGZpbGVsaXN0KTsKICAgICAgLy8g5ZCM5pe26Kem5Y+R6Ieq5a6a5LmJ55qEY2hhbmdl5LqL5Lu2CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGFycmF5LCBmaWxlLCBmaWxlbGlzdCk7CiAgICB9LAogICAgLy8g5LiK5Lyg5oiQ5YqfCiAgICB1cGxvYWRTdWNjZXNzKHJlcywgZmlsZSwgZmlsZWxpc3QpIHsKICAgICAgLy8g5pu05paw5bey5LiK5Lyg55qE5paH5Lu25YiX6KGoCiAgICAgIHRoaXMuY3VycmVudExpc3QgPSBmaWxlbGlzdDsKICAgICAgLy8g6YCa6L+H5pWw57uE5a+56LGh55qE6Z2Z5oCB5pa55rOVImZyb20i5b6X5Yiw5omA5pyJ6KeG6aKR55qE57q/5LiK5Zyw5Z2AKHJlc3BvbnNlKee7hOaIkOeahOaVsOe7hAogICAgICBsZXQgYXJyYXkgPSBBcnJheS5mcm9tKGZpbGVsaXN0LCAoewogICAgICAgIHJlc3BvbnNlCiAgICAgIH0pID0+IHJlc3BvbnNlKTsKICAgICAgLy8gcmVzcG9uc2XkuLrmjqXlj6Pov5Tlm57nmoTlk43lupTkvZPlr7nosaHml7Ys5LuO5ZON5bqU5L2T5Lit5Y+W5Ye65Zu+54mH5Zyw5Z2A5YaN57uE5oiQ5pWw57uEKOiLpeaOpeWPo+ebtOaOpei/lOWbnuWbvueJh+WcsOWdgOWPr+azqOmHiuatpOWkhOS7o+eggSkKICAgICAgYXJyYXkgPSBBcnJheS5mcm9tKGFycmF5LCByZXNwb25zZSA9PiByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UuZGF0YSk7CiAgICAgIC8vIHJlczrlkI7nq6/mjqXlj6PnmoTov5Tlm57lgLw7IGZpbGU65LiK5Lyg55qE5paH5Lu25a+56LGhOyBmaWxlbGlzdDrkuIrkvKDlrozmiJDkuYvlkI7nmoTmlofku7bliJfooagKICAgICAgdGhpcy4kZW1pdCgnc3VjY2VzcycsIGFycmF5LCByZXMsIGZpbGUsIGZpbGVsaXN0KTsKICAgICAgLy8g5ZCM5pe26Kem5Y+R6Ieq5a6a5LmJ55qEY2hhbmdl5LqL5Lu2CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGFycmF5LCBmaWxlLCBmaWxlbGlzdCk7CiAgICB9LAogICAgLy8g5paH5Lu254q25oCB5pS55Y+Y5pe255qE6ZKp5a2Q77yM5re75Yqg5paH5Lu244CB5LiK5Lyg5oiQ5Yqf5ZKM5LiK5Lyg5aSx6LSl5pe26YO95Lya6KKr6LCD55SoCiAgICBjaGFuZ2UoZmlsZSwgZmlsZWxpc3QpIHsKICAgICAgLy8gY29uc29sZS5sb2coZmlsZSwgZmlsZWxpc3QpCiAgICB9LAogICAgcHJvZ3Jlc3MoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3Byb2dyZXNzJyk7CiAgICB9LAogICAgLy8g5LiK5Lyg5paH5Lu26LaF5Ye65Liq5pWw6ZmQ5Yi25pe255qE6ZKp5a2QCiAgICBleGNlZWQoZmlsZXMsIGZpbGVsaXN0KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhg5pyA5aSa5LiK5LygJHt0aGlzLmxpbWl0feS4quaWh+S7tmApOwogICAgfSwKICAgIC8vIOmakOiXj+S4iuS8oOaMiemSrgogICAgaGlkZVBpY3R1cmVDYXJkVXBsb2FkKCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgY29uc3QgZWwgPSAodGhpcy4kcmVmcy5pbWFnZVVwbG9hZC4kZWwgfHwgZG9jdW1lbnQpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2VsLXVwbG9hZC0tcGljdHVyZS1jYXJkJylbMF07CiAgICAgICAgaWYgKGVsKSB7CiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5pi+56S65LiK5Lyg5oyJ6ZKuCiAgICBzaG93UGljdHVyZUNhcmRVcGxvYWQoKSB7CiAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy4kcmVmcy5pbWFnZVVwbG9hZC4kZWwuY2hpbGROb2RlczsKICAgICAgY29uc3QgbGVuZ3RoID0gbm9kZXMubGVuZ3RoOwogICAgICBub2Rlc1tsZW5ndGggLSAxXS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1mbGV4JzsKICAgIH0sCiAgICAvLyDlsIbmlofku7bot6/lvoTlrZfnrKbkuLLovazkuLrmlofku7blr7nosaEKICAgIHBhdGhUb0ZpbGUoc3RyKSB7CiAgICAgIGxldCBmaWxlID0ge307CiAgICAgIC8vIOS9v+eUqGxvZGFzaC5qc+aPkOS+m+eahOaWueazleiOt+WPluaWh+S7tuWQjQogICAgICBjb25zdCBmaWxlRnVsbE5hbWUgPSBudGgoc3BsaXQoc3RyLCAnLycpLCAtMSk7CiAgICAgIC8vIOWPjeino+aekOaWh+S7tuWQjQogICAgICBsZXQgZmlsZU5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQobnRoKHNwbGl0KGZpbGVGdWxsTmFtZSwgJy4nKSkpOwogICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChgXiR7dGhpcy5kYXRhLnByZUZpeH1cL1swLTldezEzfWApLCAnJyk7CiAgICAgIC8vIOaIquWPluaWh+S7tuWQjue8gAogICAgICBjb25zdCBmaWxlU3VmZml4ID0gbnRoKHNwbGl0KGZpbGVGdWxsTmFtZSwgJy4nKSwgLTEpOwogICAgICBmaWxlID0gewogICAgICAgIHVybDogc3RyLAogICAgICAgIHJlc3BvbnNlOiB7CiAgICAgICAgICAnZGF0YSc6IHsKICAgICAgICAgICAgbmFtZTogZmlsZU5hbWUsCiAgICAgICAgICAgIHVybDogc3RyCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBuYW1lOiBgJHtmaWxlTmFtZX0uJHtmaWxlU3VmZml4fWAsCiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycKICAgICAgfTsKICAgICAgcmV0dXJuIGZpbGU7CiAgICB9LAogICAgaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIGlmIChmaWxlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgdmFyIF9maWxlJHJlc3BvbnNlLCBfZmlsZSRyZXNwb25zZSRkYXRhLCBfZmlsZSRyZXNwb25zZTIsIF9maWxlJHJlc3BvbnNlMiRkYXRhLCBfZmlsZSRyZXNwb25zZTIkZGF0YSQ7CiAgICAgICAgY29uc3QgdXJsID0gKGZpbGUgPT09IG51bGwgfHwgZmlsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9maWxlJHJlc3BvbnNlID0gZmlsZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2ZpbGUkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZmlsZSRyZXNwb25zZSRkYXRhID0gX2ZpbGUkcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX2ZpbGUkcmVzcG9uc2UkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZpbGUkcmVzcG9uc2UkZGF0YS51cmwpIHx8IChmaWxlID09PSBudWxsIHx8IGZpbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZmlsZSRyZXNwb25zZTIgPSBmaWxlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZmlsZSRyZXNwb25zZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZmlsZSRyZXNwb25zZTIkZGF0YSA9IF9maWxlJHJlc3BvbnNlMi5kYXRhKSA9PT0gbnVsbCB8fCBfZmlsZSRyZXNwb25zZTIkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9maWxlJHJlc3BvbnNlMiRkYXRhJCA9IF9maWxlJHJlc3BvbnNlMiRkYXRhLmRhdGEpID09PSBudWxsIHx8IF9maWxlJHJlc3BvbnNlMiRkYXRhJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZpbGUkcmVzcG9uc2UyJGRhdGEkLnVybCk7CiAgICAgICAgd2luZG93Lm9wZW4odXJsKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AAiCA;AACA;AACA;AAEA;EAEAA;IACA;IACAC;MACAC;MACA;MACAC;IACA;IAEA;IACAC;MACAF;MACAC;IACA;IAEA;IACAE;MACAH;MACAC;IACA;IAEA;IACAG;MACAJ;MACAC;IACA;IAEA;IACAI;MACAL;MACAC;QACA;UACA;QAAA,CACA;MACA;IACA;IAEA;IACAK;MACAN;MACAC;IACA;IAEA;IACAM;MACAP;MACAC;QACA;MACA;IACA;IAEA;IACAO;MACAR;MACAC;IACA;IAEAQ;MACAT;MACAC;IACA;IAEAS;MACAV;MACAC;IACA;EACA;EACAI;IACA;MACA;MACAM;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;QACA;QACA;UACA;UACA;YACAA;UACA;UACA;QACA;UACA;UACAA;UACA;QACA;MACA;;MAEA;MACA;QACA;QACA;UACA;UACAC;UACA;YACAD;UACA;QACA;UACA;UACAA;QACA;UACA;UACA;UACAE;UACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACAH;MACAI;QACA;UACA;YACA;UACA;QACA;UACA;YACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;;EACAC,WACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;QACAC;MACA;MACA;MACAC;QACA5B;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACA6B;MACA;MACA;MACA;MACA;QACAF;MACA;MACA;MACAC;MACA;MACA;MACA;MACA;IACA;IAEA;IACAE;MACA;IAAA,CACA;IAEAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;UACAC;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACAC;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;MACAC;QACAC;QACAb;UAAA;YAAAc;YAAAD;UAAA;QAAA;QACAC;QACAC;MACA;MACA;IACA;IACAC;MACA;QAAA;QACA;QACAC;MACA;IACA;EACA;AACA","names":["props","action","type","default","multiple","showFileList","limit","data","accept","fileList","fileKey","text","disabled","baseUrl","videoUrl","dialogVisible","currentList","headers","computed","files","item","error","listLength","filesLength","uploadUrl","watch","handler","immediate","deep","mounted","methods","beforeUpload","beforeRemove","handleImgRemove","response","array","uploadSuccess","change","progress","exceed","hidePictureCardUpload","el","showPictureCardUpload","nodes","pathToFile","fileName","file","url","name","status","handlePreview","window"],"sourceRoot":"src/components/GlobalComponents/FileUpload","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"custom-upload\">\r\n    <el-upload\r\n      ref=\"imageUpload\"\r\n      :action=\"uploadUrl\"\r\n      :data=\"data\"\r\n      :headers=\"headers\"\r\n      :accept=\"accept\"\r\n      :before-remove=\"beforeRemove\"\r\n      :before-upload=\"beforeUpload\"\r\n      :on-remove=\"(file,filelist)=>{return handleImgRemove(file,filelist)}\"\r\n      :on-success=\"(res,file,filelist)=>{return uploadSuccess(res,file,filelist)}\"\r\n      :on-progress=\"progress\"\r\n      :on-exceed=\"exceed\"\r\n      :on-change=\"change\"\r\n      :show-file-list=\"showFileList\"\r\n      :limit=\"limit\"\r\n      :multiple=\"multiple\"\r\n      :file-list=\"files\"\r\n      :disabled=\"disabled\"\r\n      :on-preview=\"handlePreview\"\r\n    >\r\n      <!-- <slot>\r\n        <el-button ref=\"uploadBtn\" type=\"primary\">{{ text }}</el-button>\r\n      </slot> -->\r\n    </el-upload>\r\n    <!-- <el-dialog :close-on-click-modal=\"false\" :visible.sync=\"dialogVisible\" :append-to-body=\"true\">\r\n      <video :src=\"videoUrl\" class=\"video\" controls=\"controls\"/>\r\n    </el-dialog> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nth from 'lodash/nth'\r\nimport split from 'lodash/split'\r\nimport { getToken } from '@/utils/auth'\r\n\r\nexport default {\r\n\r\n  props: {\r\n    // 视频上传的接口地址\r\n    action: {\r\n      type: String,\r\n      // default: process.env.VUE_APP_BASE_API + '/huawei/uploadFile'\r\n      default: 'http://123.60.52.140:7800/huawei/uploadFile'\r\n    },\r\n\r\n    // 组件是否支持多选上传(默认不支持)\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    //  是否显示文件列表(默认显示)\r\n    showFileList: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n\r\n    // 上传视频的数量限制\r\n    limit: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    // 上传额外带的参数\r\n    data: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          // 'priFix': 'adminFile'\r\n        }\r\n      }\r\n    },\r\n\r\n    // 允许上传的文件类型\r\n    accept: {\r\n      type: String,\r\n      default: '.*'\r\n    },\r\n\r\n    // 文件缩略图列表(该数组的每一项只能是字符串或者对象)\r\n    fileList: {\r\n      type: [Array, String],\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n\r\n    // 如果fileList有数组项是对象则指定对象的一个属性作为文件对象url属性值(默认是该对象的url属性表示文件路径)\r\n    fileKey: {\r\n      type: String,\r\n      default: 'url'\r\n    },\r\n\r\n    text: {\r\n      type: String,\r\n      default: '上传'\r\n    },\r\n\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // baseUrl: this.$config.baseUrl,\r\n      baseUrl: process.env.VUE_APP_IMAGE_URL,\r\n      videoUrl: '', // 当前查看视频的路径\r\n      dialogVisible: false, // 视频查看框的显示状态\r\n      currentList: [], // 已上传的文件\r\n      headers: {\r\n        'token': getToken()\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    // 计算组件需要展示的文件缩略图列表数据\r\n    files() {\r\n      // 缩略图列表\r\n      const files = []\r\n\r\n      // 如果父组件没有传入缩略图列表数据\r\n      if (this.fileList.length === 0) {\r\n        return []\r\n      }\r\n\r\n      // 如果父组件没有传入缩略图列表数据\r\n      if (typeof (this.fileList) === 'string' && this.fileList === '') {\r\n        return []\r\n      }\r\n\r\n      // 若父组件传入了一个字符串作为缩略图列表的显示数据\r\n      if (typeof (this.fileList) === 'string') {\r\n        // 判断该字符串是否是由多张图片的地址拼接而成\r\n        if (this.fileList.includes(',')) {\r\n          const fileList = this.fileList.split(',')\r\n          for (const file of fileList) {\r\n            files.push(this.pathToFile(file))\r\n          }\r\n          return files\r\n        } else {\r\n          // 将其作为数组项加入数组并直接返回结果\r\n          files.push(this.pathToFile(this.fileList))\r\n          return files\r\n        }\r\n      }\r\n\r\n      // 若父组件传入缩略图列表的显示数据是一个数组\r\n      for (let item of this.fileList) {\r\n        // 判断传入的数组每一项是否是一个字符串\r\n        if (typeof (item) === 'string') {\r\n          // 将字符串转成数组(处理/单个数组项/为多张图片的地址拼接,并以逗号分隔的字符串/的情况)\r\n          item = item.split(',')\r\n          for (const file of item) {\r\n            files.push(this.pathToFile(file))\r\n          }\r\n        } else if (typeof (item) === 'object') {\r\n          // 如果数组的每一项是对象,则指定对象的一个属性作为文件对象url属性值\r\n          files.push(this.pathToFile(item[this.fileKey]))\r\n        } else {\r\n          const error = new Error()\r\n          // 数组中某些项的数据类型不正确(既不是String也不是Object)\r\n          error.message = 'Incorrect data type for some items in the array!'\r\n          throw (error)\r\n        }\r\n      }\r\n      return files\r\n    },\r\n\r\n    // 已上传的文件数量\r\n    listLength() {\r\n      return this.currentList.length\r\n    },\r\n\r\n    // 初始的文件数量\r\n    filesLength() {\r\n      return this.files.length\r\n    },\r\n\r\n    // 图片上传的接口地址\r\n    uploadUrl() {\r\n      return this.action || `${this.baseUrl}`\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听当前已上传文件的数量是否超过限制数量(控制上传按钮的显示和隐藏)\r\n    listLength: {\r\n      handler(nv, ov) {\r\n        if (nv < this.limit) {\r\n          this.$nextTick(() => {\r\n            this.showPictureCardUpload()\r\n          })\r\n        } else {\r\n          this.$nextTick(() => {\r\n            this.hidePictureCardUpload()\r\n          })\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n    //\r\n    // // 监听组件初始文件的数量是否超过限制数量(控制上传按钮的显示和隐藏)\r\n    // filesLength: {\r\n    //   handler(nv, ov) {\r\n    //     if (nv < this.limit) {\r\n    //       this.$nextTick(() => {\r\n    //         this.showPictureCardUpload()\r\n    //       })\r\n    //     } else {\r\n    //       this.$nextTick(() => {\r\n    //         this.hidePictureCardUpload()\r\n    //       })\r\n    //     }\r\n    //   },\r\n    //   immediate: true,\r\n    //   deep: true\r\n    // }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    // // 查看已选视频\r\n    // handlePictureCardPreview(file) {\r\n    //   console.log(file)\r\n    //   // this.dialogImageUrl = file.url // 查看视频的路径(file.response也能显示，url是文件的本地路径，response是上传服务器之后接口返回的线上地址)\r\n    //   this.videoUrl = file.response\r\n    //   this.dialogVisible = true // 显示视频查看框\r\n    //   console.log(this.videoUrl)\r\n    // },\r\n\r\n    beforeUpload() {\r\n      this.headers.token = getToken()\r\n    },\r\n\r\n    // 删除文件之前的钩子，参数为上传的文件和文件列表，若返回 false 或者返回 Promise 且被 reject，则停止删除。\r\n    beforeRemove(file, fileList) {\r\n      return this.$confirm(`确定移除 ${file.name}？`)\r\n    },\r\n\r\n    // 文件列表移除文件时的钩子\r\n    handleImgRemove(file, filelist) {\r\n      // 更新已上传的文件列表\r\n      this.currentList = filelist\r\n      // 通过数组对象的静态方法\"from\"得到剩余图片的线上地址(response)组成的数组\r\n      let array = Array.from(filelist, ({\r\n        response\r\n      }) => response)\r\n      // response为接口返回的响应体对象时,从响应体中取出图片地址再组成数组(若接口直接返回图片地址可注释此处代码)\r\n      array = Array.from(array, ({\r\n        data\r\n      }) => data)\r\n      // file:删除的文件对象; filelist:删除完成之后剩下的文件列表(删完了就是个空数组)\r\n      this.$emit('remove', array, file, filelist)\r\n      // 同时触发自定义的change事件\r\n      this.$emit('change', array, file, filelist)\r\n    },\r\n\r\n    // 上传成功\r\n    uploadSuccess(res, file, filelist) {\r\n      // 更新已上传的文件列表\r\n      this.currentList = filelist\r\n      // 通过数组对象的静态方法\"from\"得到所有视频的线上地址(response)组成的数组\r\n      let array = Array.from(filelist, ({\r\n        response\r\n      }) => response)\r\n      // response为接口返回的响应体对象时,从响应体中取出图片地址再组成数组(若接口直接返回图片地址可注释此处代码)\r\n      array = Array.from(array, (response) => response?.data)\r\n      // res:后端接口的返回值; file:上传的文件对象; filelist:上传完成之后的文件列表\r\n      this.$emit('success', array, res, file, filelist)\r\n      // 同时触发自定义的change事件\r\n      this.$emit('change', array, file, filelist)\r\n    },\r\n\r\n    // 文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\r\n    change(file, filelist) {\r\n      // console.log(file, filelist)\r\n    },\r\n\r\n    progress() {\r\n      this.$emit('progress')\r\n    },\r\n\r\n    // 上传文件超出个数限制时的钩子\r\n    exceed(files, filelist) {\r\n      this.$message.warning(`最多上传${this.limit}个文件`)\r\n    },\r\n\r\n    // 隐藏上传按钮\r\n    hidePictureCardUpload() {\r\n      this.$nextTick(() => {\r\n        const el = (this.$refs.imageUpload.$el || document).getElementsByClassName('el-upload--picture-card')[0]\r\n        if (el) {\r\n          el.style.display = 'none'\r\n        }\r\n      })\r\n    },\r\n\r\n    // 显示上传按钮\r\n    showPictureCardUpload() {\r\n      const nodes = this.$refs.imageUpload.$el.childNodes\r\n      const length = nodes.length\r\n      nodes[length - 1].style.display = 'inline-flex'\r\n    },\r\n\r\n    // 将文件路径字符串转为文件对象\r\n    pathToFile(str) {\r\n      let file = {}\r\n      // 使用lodash.js提供的方法获取文件名\r\n      const fileFullName = nth(split(str, '/'), -1)\r\n      // 反解析文件名\r\n      let fileName = decodeURIComponent(nth(split(fileFullName, '.')))\r\n      fileName = fileName.replace(new RegExp(`^${this.data.preFix}\\/[0-9]{13}`), '')\r\n      // 截取文件后缀\r\n      const fileSuffix = nth(split(fileFullName, '.'), -1)\r\n      file = {\r\n        url: str,\r\n        response: { 'data': { name: fileName, url: str }},\r\n        name: `${fileName}.${fileSuffix}`,\r\n        status: 'success'\r\n      }\r\n      return file\r\n    },\r\n    handlePreview(file) {\r\n      if (file.status === 'success') {\r\n        const url = file?.response?.data?.url || file?.response?.data?.data?.url\r\n        window.open(url)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}