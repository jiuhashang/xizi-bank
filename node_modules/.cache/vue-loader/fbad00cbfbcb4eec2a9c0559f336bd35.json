{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\string.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\string.vue","mtime":1644977083940},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\babel-loader\\lib\\index.js","mtime":1668673148088},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgRmlsZVVwbG9hZCBmcm9tICcuL2luZGV4LnZ1ZScNCmltcG9ydCBFbWl0dGVyIGZyb20gJ2VsZW1lbnQtdWkvc3JjL21peGlucy9lbWl0dGVyJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBGaWxlVXBsb2FkDQogIH0sDQogIG1peGluczogW0VtaXR0ZXJdLA0KICBtb2RlbDogew0KICAgIHByb3A6ICdmaWxlTGlzdCcsDQogICAgZXZlbnQ6ICdjaGFuZ2UnDQogIH0sDQogIHByb3BzOiB7DQogICAgZmlsZUxpc3Q6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfSwNCiAgICBsaW1pdDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMQ0KICAgIH0sDQogICAgZGlzYWJsZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgLy8g57uE5Lu25piv5ZCm5pSv5oyB5aSa6YCJ5LiK5LygKOm7mOiupOS4jeaUr+aMgSkNCiAgICBtdWx0aXBsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHRleHQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICfkuIrkvKAnDQogICAgfSwNCiAgICBhY2NlcHQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcuKicNCiAgICB9LA0KICAgIHJlcXVpcmVkOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZpbGVBcnJTdHJGcm9tQ2hpbGQ6ICcnLA0KICAgICAgZmlsZUxpc3RBcnI6IFtdDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGZpbGVMaXN0KG5ld1ZhbCkgew0KICAgICAgaWYgKG5ld1ZhbCAhPT0gdGhpcy5maWxlQXJyU3RyRnJvbUNoaWxkKSB7DQogICAgICAgIHRoaXMuZmlsZUxpc3RBcnIgPSBuZXdWYWwgPyBuZXdWYWwuc3BsaXQoJywnKSA6IFtdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlQ2hhbmdlKGZpbGVBcnIpIHsNCiAgICAgIGNvbnN0IHN0ciA9IGZpbGVBcnIuZmlsdGVyKHYgPT4gISF2KS5tYXAoKHsgdXJsIH0pID0+IHVybCkuam9pbignLCcpDQogICAgICB0aGlzLmZpbGVBcnJTdHJGcm9tQ2hpbGQgPSBzdHINCiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHN0cikNCiAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5jaGFuZ2UnLCBbc3RyXSkNCiAgICB9LA0KICAgIGhhbmRsZUNsaWNrKCkgew0KICAgICAgdGhpcy4kcmVmcy5maWxlVXBsb2FkZXIuJHJlZnMuaW1hZ2VVcGxvYWQuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5lbC11cGxvYWRfX2lucHV0JykuY2xpY2soKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["string.vue"],"names":[],"mappings":";AAgBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"string.vue","sourceRoot":"src/components/GlobalComponents/FileUpload","sourcesContent":["<template>\r\n  <div class=\"custom-upload-files\" :class=\"required ? 'custom-upload-files-required': ''\">\r\n    <slot />\r\n    <el-button class=\"fake-btn\" type=\"primary\" size=\"mini\" @click.prevent.stop=\"handleClick\">上传</el-button>\r\n    <file-upload\r\n      ref=\"fileUploader\"\r\n      :file-list=\"fileListArr\"\r\n      :limit=\"limit\"\r\n      :multiple=\"multiple\"\r\n      :disabled=\"disabled\"\r\n      :accept=\"accept\"\r\n      @change=\"handleChange\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport FileUpload from './index.vue'\r\nimport Emitter from 'element-ui/src/mixins/emitter'\r\n\r\nexport default {\r\n  components: {\r\n    FileUpload\r\n  },\r\n  mixins: [Emitter],\r\n  model: {\r\n    prop: 'fileList',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    fileList: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    limit: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 组件是否支持多选上传(默认不支持)\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: '上传'\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: '.*'\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fileArrStrFromChild: '',\r\n      fileListArr: []\r\n    }\r\n  },\r\n  watch: {\r\n    fileList(newVal) {\r\n      if (newVal !== this.fileArrStrFromChild) {\r\n        this.fileListArr = newVal ? newVal.split(',') : []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(fileArr) {\r\n      const str = fileArr.filter(v => !!v).map(({ url }) => url).join(',')\r\n      this.fileArrStrFromChild = str\r\n      this.$emit('change', str)\r\n      this.dispatch('ElFormItem', 'el.form.change', [str])\r\n    },\r\n    handleClick() {\r\n      this.$refs.fileUploader.$refs.imageUpload.$el.querySelector('.el-upload__input').click()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped deep>\r\n    /deep/ .el-upload-list__item .el-icon-close-tip {\r\n      display: none !important;\r\n    }\r\n  .custom-upload-files {\r\n    \r\n    .fake-btn {\r\n      position: relative;\r\n      z-index: 2;\r\n    }\r\n\r\n    &.custom-upload-files-required:before {\r\n      content: '*';\r\n      color: #F56C6C;\r\n      margin-right: 4px;\r\n    }\r\n\r\n    ::v-deep .el-upload {\r\n      display: none;\r\n    }\r\n\r\n    ::v-deep .el-upload-list {\r\n      min-width: 50%;\r\n      max-width: 400px;\r\n      flex-direction: column;\r\n      // margin-left: 20px;\r\n\r\n      .el-upload-list__item:first-child {\r\n        margin-top: 0;\r\n      }\r\n    }\r\n  }\r\n  \r\n</style>\r\n"]}]}