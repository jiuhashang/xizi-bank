{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\views\\data\\launch\\launchDetail\\index.vue?vue&type=style&index=0&id=295a0038&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\views\\data\\launch\\launchDetail\\index.vue","mtime":1645169562996},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\css-loader\\dist\\cjs.js","mtime":1668673146952},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1668673148673},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\postcss-loader\\src\\index.js","mtime":1668673147587},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1668673148073},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zaGFuZyB7CiAgaGVpZ2h0OiA5N3B4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgLmVsLWJyZWFkY3J1bWIgewogICAgcGFkZGluZzogMTVweCAwIDAgMjVweDsKICB9CiAgLmJhY2sgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgLmJ0bm5uIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBib3R0b206IDA7CiAgICAgIHJpZ2h0OiAxNXB4OwogICAgfQogIH0KICBoMiB7CiAgICBwYWRkaW5nLWxlZnQ6IDI1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgfQp9Ci5lbC1hbGVydCB7CiAgbWFyZ2luOiAxNXB4IDA7Cn0KLnhpYW4gewogIGNvbG9yOiAjMTg5MEZGOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMTg5MEZGOwogIHBhZGRpbmctYm90dG9tOiA1cHg7CiAgZGl2IHsKICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzE4OTBGRjsKICAgIHBhZGRpbmctbGVmdDogMTVweDsKICB9Cn0KL2RlZXAvICAuZWwtY2hlY2tib3hfX2xhYmVsIHsKICBwYWRkaW5nLWxlZnQ6IDA7Cn0KLmN1c3RvbS11cGxvYWQtZmlsZXMgewogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLm11c3QtZm9ybS1pdGVtIHsKICAvZGVlcC8gLmVsLWZvcm0taXRlbV9fbGFiZWw6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcqJzsKICAgIGNvbG9yOiByZWQ7CiAgICBtYXJnaW4tcmlnaHQ6IDRweDsKICB9Cn0KL2RlZXAvIC5lbC1pbnB1dC1udW1iZXJfX2RlY3JlYXNlIHsKICBkaXNwbGF5OiBub25lOwp9Ci9kZWVwLyAuZWwtaW5wdXQtbnVtYmVyX19pbmNyZWFzZSB7CiAgZGlzcGxheTogbm9uZTsKfQovZGVlcC8gLmVsLWlucHV0LW51bWJlciAuZWwtaW5wdXRfX2lubmVyIHsKICBwYWRkaW5nLWxlZnQ6IDEwcHg7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQp0YWJsZSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAyMDBweDsKICBtYXJnaW46IDMwcHggMDsKICBib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7IAogIGJvcmRlcjogMXB4IHNvbGlkICNhYWE7CiAgdHIgewogICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTsKICAgIHRkIHsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTsKICAgICAgd2lkdGg6IDI1JTsKICAgIH0KICB9CiAgLmVsLWlucHV0IHsKICAgIHdpZHRoOiA5MCU7CiAgfQogIC9kZWVwLyAuZWwtaW5wdXRfX3N1ZmZpeCB7CiAgICB0b3A6IDEwcHg7CiAgfQp9Cgo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAiiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/data/launch/launchDetail","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"shang\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>资料收集</el-breadcrumb-item>\r\n        <el-breadcrumb-item>{{ $route.meta.title }}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n      <div class=\"back\">\r\n        <div @click=\"$router.back()\" style=\"width:240px;\">\r\n          <h2>&lt; {{ $route.meta.title }}</h2>\r\n        </div>\r\n        <div class=\"btnnn\">\r\n          <el-button size=\"small\" @click=\"approval\">审批记录</el-button>\r\n          <el-button size=\"small\" v-show=\"firstExamine == null || firstExamine == 0 || firstExamine\t == 2\" type=\"warning\" :loading=\"saveLoading\" @click=\"save\">保 存</el-button>\r\n          <el-button size=\"small\" v-show=\"firstExamine == null || firstExamine == 0 || firstExamine\t == 2\" type=\"primary\" :loading=\"subLoading\" @click=\"sub\">提交审核</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-card>\r\n      <div class=\"xian\">\r\n        <div>项目信息</div>\r\n      </div>\r\n      <el-row :gutter=\"20\" style=\"margin-top:30px;\">\r\n        <el-col :span=\"8\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"7\" class=\"span13\">创建时间</el-col>\r\n            <el-col :span=\"16\" class=\"span130\">{{ $route.query.createTime }}</el-col>\r\n          </el-row>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"6\" class=\"span13\">负责人</el-col>\r\n            <el-col :span=\"16\" class=\"span130\">{{ $route.query.createUserNickName }}</el-col>\r\n          </el-row>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"5\" class=\"span13\" style=\"padding-right:15px;\">负责人电话</el-col>\r\n            <el-col :span=\"16\" class=\"span130\" style=\"padding-left:0;\">{{ $route.query.createUserPhone }}</el-col>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"20\" style=\"margin-top:30px;margin-bottom:30px;\">\r\n        <el-col :span=\"8\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"7\" class=\"span13\">项目名称</el-col>\r\n            <el-col :span=\"16\" class=\"span130\">{{ $route.query.projectName }}</el-col>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n      \r\n      <div class=\"xian\">\r\n        <div>业主信息</div>\r\n      </div>\r\n      <el-form ref=\"companyInfoForm\" :rules=\"companyInfoRules\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" :model=\"seProjectCompanyInfo\" label-width=\"130px\">\r\n        <el-row :gutter=\"20\" style=\"margin-top:30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"7\" class=\"span13\">公司名称</el-col>\r\n              <el-col :span=\"16\" class=\"span130\">{{ $route.query.companyName }}</el-col>\r\n            </el-row>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"6\" class=\"span13\">统一社会信用代码</el-col>\r\n              <el-col :span=\"16\" class=\"span130\">{{ seProjectCompanyInfo.sameCreditCode }}</el-col>\r\n            </el-row>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"5\" class=\"span13\" style=\"padding-right:15px;\">注册资本</el-col>\r\n              <el-col :span=\"16\" class=\"span130\" style=\"padding-left:0;\">{{ seProjectCompanyInfo.registerMoney }}</el-col>\r\n            </el-row>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:30px 30px 10px 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"公司性质\" prop=\"companyType\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectCompanyInfo.companyType\" clearable placeholder=\"请选择\" class=\"width100\">\r\n                <el-option label=\"央企\" :value=\"0\"></el-option>\r\n                <el-option label=\"外资\" :value=\"1\"></el-option>\r\n                <el-option label=\"国企\" :value=\"2\"></el-option>\r\n                <el-option label=\"上市公司\" :value=\"3\"></el-option>\r\n                <el-option label=\"股份制\" :value=\"4\"></el-option>\r\n                <el-option label=\"其他\" :value=\"5\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"建站地址\" prop=\"value\" class=\"must-form-item\">\r\n              <el-cascader\r\n                v-model=\"seProjectCompanyInfo.value\"\r\n                :options=\"options\"\r\n                :props=\"{ expandTrigger: 'hover', label:'province', value: 'province', children:'cities' }\"\r\n                @change=\"handleChange\"\r\n                clearable\r\n                class=\"width100\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"详细地址\" prop=\"setAddress\">\r\n              <el-input v-model=\"seProjectCompanyInfo.setAddress\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:0 30px 30px 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"公司联系人\" prop=\"legalPerson\">\r\n              <el-input v-model=\"seProjectCompanyInfo.legalPerson\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"联系人手机号\" prop=\"companyPhone\">\r\n              <el-input v-model=\"seProjectCompanyInfo.companyPhone\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <div class=\"xian\">\r\n        <div>屋面信息</div>\r\n      </div>\r\n      <el-form ref=\"companyBuildInfoForm\" :rules=\"CompanyBuildInfoRules\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" :model=\"seProjectCompanyBuildInfo\" label-width=\"130px\">\r\n        <el-row :gutter=\"20\" style=\"margin:30px 30px 0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"屋顶总面积\" prop=\"houseArea\" class=\"must-form-item\">\r\n              <el-input v-model=\"seProjectCompanyBuildInfo.houseArea\">\r\n                <span slot=\"suffix\">㎡</span>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"建筑物个数\" prop=\"buildNum\" class=\"must-form-item\">\r\n              <el-input v-model=\"seProjectCompanyBuildInfo.buildNum\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"屋面正南遮挡物\" prop=\"houseSouthScreenFlag\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectCompanyBuildInfo.houseSouthScreenFlag\" placeholder=\"请选择\" class=\"width100\">\r\n                <el-option label=\"是\" :value=\"1\"></el-option>\r\n                <el-option label=\"否\" :value=\"0\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:10px 30px 0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"屋顶使用年限\" prop=\"useYears\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectCompanyBuildInfo.useYears\" placeholder=\"请选择\" class=\"width100\">\r\n                <el-option label=\"0-5年\" :value=\"0\"></el-option>\r\n                <el-option label=\"6-10年\" :value=\"1\"></el-option>\r\n                <el-option label=\"11-15年\" :value=\"2\"></el-option>\r\n                <el-option label=\"16-20年\" :value=\"3\"></el-option>\r\n                <el-option label=\"21-25年\" :value=\"4\"></el-option>\r\n                <el-option label=\"26-30年\" :value=\"5\"></el-option>\r\n                <el-option label=\"31年以上\" :value=\"6\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"屋面材质\" prop=\"housePartType\" class=\"must-form-item\">\r\n              <el-select v-model=\"housePartType\"\r\n                @change=\"housePartTypeChange\"\r\n                multiple\r\n                clearable\r\n                placeholder=\"请选择(可多选)\"\r\n                class=\"width100\">\r\n                <el-option label=\"瓦砾屋面\" value=\"0\"></el-option>\r\n                <el-option label=\"混泥土屋面\" value=\"1\"></el-option>\r\n                <el-option label=\"彩钢瓦屋面\" value=\"2\"></el-option>\r\n                <el-option label=\"其它\" value=\"3\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"彩钢瓦类型\" prop=\"colorSteelType\" class=\"must-form-item\">\r\n              <el-select v-model=\"colorSteelType\"\r\n                @change=\"colorSteelTypeChange\"\r\n                multiple\r\n                clearable\r\n                placeholder=\"请选择(可多选)\" \r\n                class=\"width100\">\r\n                <el-option label=\"无\" value=\"0\"></el-option>\r\n                <el-option label=\"直立锁边\" value=\"1\"></el-option>\r\n                <el-option label=\"角驰\" value=\"2\"></el-option>\r\n                <el-option label=\"T型\" value=\"3\"></el-option>\r\n                <el-option label=\"其它\" value=\"4\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:10px 30px 30px 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"彩钢瓦比水泥顶\" prop=\"colorSteelCementTopScale\" class=\"must-form-item\">\r\n              <el-input v-model=\"seProjectCompanyBuildInfo.colorSteelCementTopScale\" type=\"number\" clearable>\r\n                <span slot=\"suffix\">%</span>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"16\">\r\n            <el-form-item label=\"其他屋面材质说明\" prop=\"otherMessage\">\r\n              <el-input v-model=\"seProjectCompanyBuildInfo.otherMessage\" clearable></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <div class=\"xian\">\r\n        <div>供电现状</div>\r\n      </div>\r\n      <el-form ref=\"powerInfoForm\" :rules=\"powerInfoRules\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" :model=\"seProjectPowerInfo\" label-width=\"150px\">\r\n        <el-row :gutter=\"20\" style=\"margin:30px 10px 0;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"供电类型\" prop=\"prowerType\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectPowerInfo.prowerType\" placeholder=\"请选择\"  class=\"width100\">\r\n                <el-option label=\"工业\" value=\"工业\"></el-option>\r\n                <el-option label=\"商业\" value=\"商业\"></el-option>\r\n                <el-option label=\"农用\" value=\"农用\"></el-option>\r\n                <el-option label=\"居民用电\" value=\"居民用电\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" style=\"padding-left:0;\">\r\n            <el-form-item label=\"变压器容量\" prop=\"transformerVolume\" class=\"must-form-item\">\r\n              <el-input v-model=\"seProjectPowerInfo.transformerVolume\">\r\n                <span slot=\"suffix\">kVA</span>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" style=\"padding-left:0;\">\r\n            <el-form-item label=\"变压器台数\" prop=\"transformerNum\" class=\"must-form-item\">\r\n              <el-input v-model=\"seProjectPowerInfo.transformerNum\">\r\n                <span slot=\"suffix\">台</span>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:10px 10px 0;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"预估装机容量\" prop=\"mayInstallVolume\" class=\"must-form-item\">\r\n              <el-input v-model=\"seProjectPowerInfo.mayInstallVolume\">\r\n                <span slot=\"suffix\">kW</span>\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" style=\"padding-left:0;\">\r\n            <el-form-item label=\"法定节假日是否休息\" prop=\"legalHolidayFlag\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectPowerInfo.legalHolidayFlag\" placeholder=\"请选择\"  class=\"width100\">\r\n                <el-option label=\"是\" :value=\"1\"></el-option>\r\n                <el-option label=\"否\" :value=\"0\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" style=\"padding-left:0;\">\r\n            <el-form-item label=\"周末生产情况\" prop=\"weekendFlag\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectPowerInfo.weekendFlag\" placeholder=\"请选择\"  class=\"width100\">\r\n                <el-option label=\"单班\" value=\"单班\"></el-option>\r\n                <el-option label=\"双班\" value=\"双班\"></el-option>\r\n                <el-option label=\"连续生产\" value=\"连续生产\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:10px 20px 0;\">\r\n          <el-col :span=\"8\" style=\"padding-left:0;\">\r\n            <el-form-item label=\"中午设备是否停机\" prop=\"noonEquipmentFlag\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectPowerInfo.noonEquipmentFlag\" placeholder=\"请选择\"  class=\"width100\">\r\n                <el-option label=\"是\" :value=\"1\"></el-option>\r\n                <el-option label=\"否\" :value=\"0\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"16\" style=\"padding-left:0;\">\r\n            <el-form-item label=\"其他供电说明\" prop=\"otherMessage\">\r\n              <el-input v-model=\"seProjectPowerInfo.otherMessage\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <el-card style=\"margin-bottom:50px;\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>变压器各台容量（选填）</span>\r\n        </div>\r\n        <div>\r\n          <el-button type=\"primary\" size=\"small\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" @click=\"handleAdd\">添加变压器</el-button>\r\n          <el-table :data=\"seProjectPowerTransformInfoList\" style=\"width: 100%\" :header-cell-style=\"{background:'#f2f2f2',color:'#555'}\">\r\n            <el-table-column prop=\"transformName\" label=\"变压器名称\" />\r\n            <el-table-column prop=\"transformVolume\" label=\"容量（kVA）\" />\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"danger\" size=\"small\" @click=\"deleteData(scope.row)\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\">删除</el-button>\r\n                <el-button type=\"info\" size=\"small\" @click=\"editData(scope.row)\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\">编辑</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-card>\r\n\r\n      <div class=\"xian\">\r\n        <div>合作模式</div>\r\n      </div>\r\n      <el-alert title=\"请选择投资模式，在其他投资情况下，折扣与租金可以多选。\" type=\"success\" :closable=\"false\" />\r\n      <el-form ref=\"cooperateForm\" :rules=\"cooperateRules\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" :model=\"seProjectCooperate\" label-width=\"130px\">\r\n        <el-row :gutter=\"20\" style=\"margin:30px 30px 0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"合作模式\" prop=\"cooperateType\" class=\"must-form-item\">\r\n              <el-select v-model=\"seProjectCooperate.cooperateType\" placeholder=\"请选择\" class=\"width100\" @change=\"selectChange\">\r\n                <el-option label=\"业主投资\" :value=\"0\"></el-option>\r\n                <el-option label=\"其他投资\" :value=\"1\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\" v-show=\"seProjectCooperate.cooperateType == 0\">\r\n            <div style=\"display:flex;\">\r\n              <el-checkbox v-model=\"seProjectCooperate.ownPutFlag\" style=\"margin-top:10px;\" @change=\"handleOwn\" />\r\n              <el-form-item label=\"业主自投，预算\">\r\n                <el-input v-model=\"seProjectCooperate.ownPutMoney\" class=\"width100\" clearable type=\"number\" placeholder=\"请输入\" :disabled=\"!seProjectCooperate.ownPutFlag\">\r\n                  <span slot=\"suffix\">万元</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\" v-show=\"seProjectCooperate.cooperateType == 1\">\r\n            <div style=\"display:flex;\">\r\n              <el-checkbox v-model=\"seProjectCooperate.electricityDiscountFlag\" style=\"margin-top:10px;\" @change=\"handleEle\" />\r\n              <el-form-item label=\"电费折扣，比例\">\r\n                <el-input v-model=\"seProjectCooperate.electricityDiscountScale\" class=\"width100\" type=\"number\" clearable placeholder=\"请输入\" :disabled=\"!seProjectCooperate.electricityDiscountFlag\">\r\n                  <span slot=\"suffix\">%</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\" v-show=\"seProjectCooperate.cooperateType == 1\">\r\n            <div style=\"display:flex;\">\r\n              <el-checkbox v-model=\"seProjectCooperate.houseLeaseFlag\" style=\"margin-top:10px;\" @change=\"handleHou\" />\r\n              <el-form-item label=\"出租屋面，租金\">\r\n                <el-input v-model=\"seProjectCooperate.houseLeaseMoney\" class=\"width100\" clearable type=\"number\" placeholder=\"请输入\" :disabled=\"!seProjectCooperate.houseLeaseFlag\">\r\n                  <span slot=\"suffix\">万元/年</span>\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <div class=\"xian\">\r\n        <div>近3年销售与利润</div>\r\n      </div>\r\n      <table style=\"width: 100%;text-align:center;\" class=\"ht\" cellpadding=\"0\" cellspacing=\"0\">\r\n        <tr style=\"background:#f2f2f2;\">\r\n          <td></td>\r\n          <td>2019年</td>\r\n          <td>2020年</td>\r\n          <td>2021年</td>\r\n        </tr>\r\n        <tr>\r\n          <td>年销售额（万元）</td>\r\n          <td>\r\n            <el-input v-model=\"first.sellMoney\" type=\"number\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" placeholder=\"请输入\">\r\n              <span slot=\"suffix\">万元</span>\r\n            </el-input>\r\n          </td>\r\n          <td>\r\n            <el-input v-model=\"second.sellMoney\" type=\"number\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" placeholder=\"请输入\">\r\n              <span slot=\"suffix\">万元</span>\r\n            </el-input>\r\n          </td>\r\n          <td>\r\n            <el-input v-model=\"three.sellMoney\" type=\"number\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" placeholder=\"请输入\">\r\n              <span slot=\"suffix\">万元</span>\r\n            </el-input>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>年利润额（万元）</td>\r\n          <td>\r\n            <el-input v-model=\"first.profix\" type=\"number\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" placeholder=\"请输入\">\r\n              <span slot=\"suffix\">万元</span>\r\n            </el-input>\r\n          </td>\r\n          <td>\r\n            <el-input v-model=\"second.profix\" type=\"number\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" placeholder=\"请输入\">\r\n              <span slot=\"suffix\">万元</span>\r\n            </el-input>\r\n          </td>\r\n          <td>\r\n            <el-input v-model=\"three.profix\" type=\"number\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" placeholder=\"请输入\">\r\n              <span slot=\"suffix\">万元</span>\r\n            </el-input>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n\r\n      <div class=\"xian\">\r\n        <div>相关材料</div>\r\n      </div>\r\n      <el-alert title=\"如文件较多，可将文件进行压缩打包上传，并等待文件完成上传。\" type=\"success\" :closable=\"false\" />\r\n      <el-form ref=\"relevantFileForm\" :rules=\"relevantFileRules\" :disabled=\"firstExamine == 1 || firstExamine == 3 || firstExamine == 99\" :model=\"seProjectRelevantFile\" style=\"text-align:right;\" label-width=\"160px\">\r\n        <el-row :gutter=\"20\" style=\"margin:0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"不动产权证或三证\" prop=\"realPropertyRightFile\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.realPropertyRightFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"近12个月电费复核单\" prop=\"nearYearElectricityBill\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.nearYearElectricityBill\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"结构图\" prop=\"structureFile\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.structureFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"配电室内部照片\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.electricityRoomInsideFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"建筑图\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.buildFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"总平图\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.generalLayoutFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"厂房内部照片\" prop=\"workShopInsideFile\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.workShopInsideFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"厂名正面照片\" prop=\"workShopFrontFile\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.workShopFrontFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"屋顶细节照片\" prop=\"houseTopDetailFile\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.houseTopDetailFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:0 30px;\">\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"厂房内屋顶照片\" prop=\"workShopInsideTopFile\" class=\"must-form-item\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.workShopInsideTopFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"项目发起额外材料\">\r\n              <file-upload-string\r\n                v-model=\"seProjectRelevantFile.projectOtherFile\"\r\n                :limit=\"1\"\r\n                accept=\".jpg,.jpeg,.png,.dwg,.bak,.dwt,.bak,.rar,.zip,.ppt,.pptx,.pdf,.xls,.xlsx,.csv,.xlsm\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" style=\"margin:0 30px;\">\r\n          <el-col>\r\n            <el-form-item label=\"项目发起额外说明\">\r\n              <el-input v-model=\"seProjectRelevantFile.projectOtherMessage\" class=\"width100\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-dialog\r\n      title=\"添加变压器\"\r\n      :visible.sync=\"addDialogVisible\"\r\n      width=\"40%\"\r\n      :close-on-click-modal=\"false\">\r\n      <el-form ref=\"form\" :model=\"addForm\" :rules=\"addRules\" label-width=\"120px\">\r\n        <el-form-item label=\"变压器名称\" prop=\"transformName\" class=\"must-form-item\">\r\n          <el-input v-model=\"addForm.transformName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"容量（kVA)\" prop=\"transformVolume\" class=\"must-form-item\">\r\n          <el-input v-model=\"addForm.transformVolume\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"add\">添 加</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"编辑变压器\"\r\n      :visible.sync=\"editDialogVisible\"\r\n      width=\"40%\"\r\n      :close-on-click-modal=\"false\">\r\n      <el-form ref=\"form\" :model=\"editDeepForm\"  label-width=\"120px\">\r\n        <el-form-item label=\"变压器名称\">\r\n          <el-input v-model=\"editDeepForm.transformName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"容量（kVA)\">\r\n          <el-input v-model=\"editDeepForm.transformVolume\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"edit\">编 辑</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 审批记录 -->\r\n    <ApprovalLog :logVisible.sync=\"logVisible\" :activities=\"activities\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getProjectInfo, projectInput, projectInputSubmit, getProjectExamineLog, getProvinceCity, deleteOne } from '@/api/listProject'\r\n\r\nimport ApprovalLog from '@/components/Log/ApprovalLog.vue'\r\n\r\nexport default {\r\n  name: 'LaunchDetail',\r\n  data() {\r\n    var checkTwo = (rule, value, callback) => {\r\n      const reg = /(^[0-9]{1,9}$)|(^[0-9]{1,9}[\\.]{1}[0-9]{1,2}$)/\r\n      if (reg.test(value)) {\r\n        callback()\r\n      } else {\r\n        return callback(new Error('限数字，小数点后2位'))\r\n      }\r\n    }\r\n    var checkZs = (rule, value, callback) => {\r\n      const reg = /^[1-9]\\d*$/\r\n      if (reg.test(value)) {\r\n        callback()\r\n      } else {\r\n        return callback(new Error('限数字，整数，≥1'))\r\n      }\r\n    }\r\n    var checkCe = (rule, value, callback) => {\r\n      const reg = /^(?:100|\\d{1,2})(?:\\.\\d{1,2})?$/ \r\n      if (reg.test(value)) {\r\n        callback()\r\n      } else {\r\n        return callback(new Error('限数字，0-100之间，小数点后2位'))\r\n      }\r\n    }\r\n    var checkCd = (rule, value, callback) => {\r\n      const reg = /^([1-9]\\d*(\\.\\d{1,2})?|([0](\\.([0][1-9]|[1-9]\\d{0,1}))))$/\r\n      if (reg.test(value)) {\r\n        callback()\r\n      } else {\r\n        return callback(new Error('限数字、若小数最多2位，＞0'))\r\n      }\r\n    }\r\n    var checkPhone = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error('手机号不能为空'))\r\n      } else {\r\n        const reg = /^1(3\\d|4[5-9]|5[0-35-9]|6[567]|7[0-8]|8\\d|9[0-35-9])\\d{8}$/\r\n        if (reg.test(value)) {\r\n          callback()\r\n        } else {\r\n          return callback(new Error('请输入正确的手机号'))\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      firstExamine: '',\r\n      projectId: '',\r\n      must: false, // 控制是否必填\r\n      addForm: { // 添加变压器\r\n        projectId: this.$route.query.projectId,\r\n        transformName: '',\r\n        transformVolume: ''\r\n      },\r\n      addRules: {\r\n        transformName: [\r\n          { message: '请输入变压器名称', trigger: 'blur' },\r\n          { min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur' }\r\n        ],\r\n        transformVolume: [\r\n          { message: '请输入', trigger: 'blur' },\r\n          { validator: checkCd, trigger: 'blur' }\r\n        ]\r\n      },\r\n      editForm: { // 编辑变压器\r\n        transformName: '',\r\n        transformVolume: '',\r\n        transformId: Date.now()\r\n      },\r\n      editDeepForm: {},\r\n      seProjectPowerTransformInfoList: [], // 变压器数据\r\n      addDialogVisible: false, // 添加变压器弹框\r\n      editDialogVisible: false, \r\n      housePartType: [], // 屋面材质\r\n      colorSteelType: [], // 彩钢瓦类型\r\n      logVisible: false, // 审批记录\r\n      activities: [], // 审批记录内容\r\n      value: [], // 省市\r\n      options: [],\r\n      saveLoading: false, \r\n      subLoading: false, \r\n\r\n      seProjectCompanyInfo: {\r\n        projectId: this.$route.query.projectId,\r\n      }, // 业主信息\r\n      companyInfoRules: {\r\n        companyType: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        value: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        setAddress: [{ min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur' }],\r\n        legalPerson: [{ min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur' }],\r\n        companyPhone: [{ validator: checkPhone, trigger: 'blur' }]\r\n      },\r\n\r\n      seProjectCompanyBuildInfo: {\r\n        projectId: this.$route.query.projectId,\r\n      }, // 屋面信息\r\n      CompanyBuildInfoRules: {\r\n        houseArea: [\r\n          { required: this.must, message: '请输入屋顶总面积', trigger: 'blur' },\r\n          { validator: checkTwo, trigger: 'blur' }\r\n        ],\r\n        buildNum: [\r\n          { message: '请输入建筑物个数', trigger: 'blur' },\r\n          { validator: checkZs, trigger: 'blur' }\r\n        ],\r\n        houseSouthScreenFlag: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        useYears: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        housePartType: [{ required: this.must, message: '请选择建站地址', trigger: 'change, blur' }],\r\n        // colorSteelType: [],\r\n        colorSteelCementTopScale: [\r\n          { required: this.must, message: '请输入', trigger: 'blur' },\r\n          { validator: checkCe, trigger: 'blur' }\r\n        ],\r\n        otherMessage: [{ min: 0, max: 200, message: '长度在 0 到 200 个字符', trigger: 'blur' }]\r\n      },\r\n\r\n      seProjectPowerInfo: {\r\n        projectId: this.$route.query.projectId,\r\n      }, // 供电现状\r\n      powerInfoRules: {\r\n        prowerType: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        transformerVolume: [\r\n          { required: this.must, message: '请输入', trigger: 'blur' },\r\n          { validator: checkCd, trigger: 'blur' }\r\n        ],\r\n        transformerNum: [\r\n          { required: this.must, message: '请输入', trigger: 'blur' },\r\n          { validator: checkZs, trigger: 'blur' }\r\n        ],\r\n        mayInstallVolume: [\r\n          { required: this.must, message: '请输入', trigger: 'blur' },\r\n          { validator: checkCd, trigger: 'blur' }\r\n        ],\r\n        legalHolidayFlag: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        weekendFlag: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        noonEquipmentFlag: [{ required: this.must, message: '请选择', trigger: 'change, blur' }],\r\n        otherMessage: [{ min: 0, max: 200, message: '长度在 0 到 200 个字符', trigger: 'blur' }]\r\n      },\r\n\r\n      seProjectCooperate: {\r\n        projectId: this.$route.query.projectId,\r\n        cooperateType: undefined,\r\n        ownPutFlag: null,\r\n        ownPutMoney: undefined,\r\n        electricityDiscountFlag: null,\r\n        electricityDiscountScale: undefined,\r\n        houseLeaseFlag: null,\r\n        houseLeaseMoney: undefined\r\n      }, // 合作模式\r\n      cooperateRules: {\r\n        cooperateType: [{ required: this.must, message: '请选择', trigger: 'change, blur' }]\r\n      },\r\n\r\n      first: {\r\n        id: undefined,\r\n        projectId: this.$route.query.projectId,\r\n        yearNum: 2019,\r\n        sellMoney: undefined,\r\n        profix: undefined\r\n      },\r\n      second: {\r\n        id: undefined,\r\n        projectId: this.$route.query.projectId,\r\n        yearNum: 2020,\r\n        sellMoney: undefined,\r\n        profix: undefined\r\n      },\r\n      three: {\r\n        id: undefined,\r\n        projectId: this.$route.query.projectId,\r\n        yearNum: 2021,\r\n        sellMoney: undefined, \r\n        profix: undefined\r\n      },\r\n      seProjectNearThreeYearSellProfixList: [], // 近三年\r\n      seProjectRelevantFile: {\r\n        projectId: this.$route.query.projectId,\r\n      }, // 相关材料\r\n      relevantFileRules: {\r\n        realPropertyRightFile: [],\r\n        nearYearElectricityBill: [],\r\n        structureFile: [],\r\n        workShopInsideFile: [],\r\n        workShopFrontFile: [],\r\n        houseTopDetailFile: [],\r\n        workShopInsideTopFile: []\r\n      }\r\n    }\r\n  },\r\n  components: { ApprovalLog },\r\n  created() {\r\n    this.firstExamine = this.$route.query.firstExamine\r\n    this.projectId = this.$route.query.projectId\r\n    this.getProjectInfo( this.projectId )\r\n    getProvinceCity().then(res => {\r\n      this.options = res.data\r\n    })\r\n  },\r\n  watch: {\r\n    seProjectNearThreeYearSellProfixList(newVal, oldVal) {\r\n      if(newVal.length > 0) {\r\n        this.first = newVal[0]\r\n        this.second = newVal[1]\r\n        this.three = newVal[2]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getProjectInfo( projectId ) {\r\n      getProjectInfo({ projectId }).then(res => {\r\n        const {seProjectCompanyInfo,seProjectCompanyBuildInfo,seProjectPowerInfo,seProjectCooperate,seProjectRelevantFile,seProjectPowerTransformInfoList, seProjectNearThreeYearSellProfixList} = res.data\r\n        this.seProjectCompanyInfo = {...seProjectCompanyInfo}\r\n        this.seProjectCompanyBuildInfo = {...seProjectCompanyBuildInfo}\r\n        this.seProjectPowerInfo = {...seProjectPowerInfo}\r\n        this.seProjectCooperate = {...seProjectCooperate}\r\n        if(this.seProjectCooperate.ownPutFlag &&  this.seProjectCooperate.ownPutFlag == 1) { this.seProjectCooperate.ownPutFlag = true }\r\n        if(this.seProjectCooperate.electricityDiscountFlag &&  this.seProjectCooperate.electricityDiscountFlag == 1) { this.seProjectCooperate.electricityDiscountFlag = true }\r\n        if(this.seProjectCooperate.houseLeaseFlag &&  this.seProjectCooperate.houseLeaseFlag == 1) { this.seProjectCooperate.houseLeaseFlag = true }\r\n        this.seProjectRelevantFile = {...seProjectRelevantFile}\r\n        this.seProjectPowerTransformInfoList = seProjectPowerTransformInfoList\r\n        this.seProjectCompanyInfo.value = [this.seProjectCompanyInfo.province, this.seProjectCompanyInfo.city]\r\n        if(this.seProjectCompanyBuildInfo.housePartType) { this.housePartType = this.seProjectCompanyBuildInfo.housePartType.split(',') }\r\n        if(this.seProjectCompanyBuildInfo.colorSteelType) { this.colorSteelType = this.seProjectCompanyBuildInfo.colorSteelType.split(',') }\r\n        if(this.seProjectCompanyBuildInfo.housePartType && this.seProjectCompanyBuildInfo.housePartType.indexOf('2') !== -1) { this.houseDis = false }\r\n        this.seProjectNearThreeYearSellProfixList = seProjectNearThreeYearSellProfixList\r\n      })\r\n    },\r\n    front(msg) {\r\n      this.saveLoading = true\r\n      this.seProjectNearThreeYearSellProfixList.push(this.first, this.second, this.three)\r\n      if(this.seProjectCooperate.cooperateType == 0) {\r\n        this.seProjectCooperate.ownPutFlag = 1\r\n        this.seProjectCooperate.electricityDiscountFlag = 0\r\n        this.seProjectCooperate.electricityDiscountScale = null\r\n        this.seProjectCooperate.houseLeaseFlag = 0\r\n        this.seProjectCooperate.houseLeaseMoney = null\r\n      } else if(this.seProjectCooperate.cooperateType == 1) {\r\n        this.seProjectCooperate.ownPutFlag = 0\r\n        this.seProjectCooperate.ownPutMoney = null\r\n        if(this.seProjectCooperate.electricityDiscountFlag) {\r\n          this.seProjectCooperate.electricityDiscountFlag = 1\r\n        } else {\r\n          this.seProjectCooperate.electricityDiscountFlag = 0\r\n        }\r\n        if(this.seProjectCooperate.houseLeaseFlag) {\r\n          this.seProjectCooperate.houseLeaseFlag = 1\r\n        } else {\r\n          this.seProjectCooperate.houseLeaseFlag = 0\r\n        }\r\n      }\r\n      projectInput({projectId: this.projectId,\r\n        seProjectCompanyInfo: this.seProjectCompanyInfo,\r\n        seProjectCompanyBuildInfo: this.seProjectCompanyBuildInfo,\r\n        seProjectPowerInfo: this.seProjectPowerInfo,\r\n        seProjectPowerTransformInfoList: this.seProjectPowerTransformInfoList,\r\n        seProjectCooperate: this.seProjectCooperate,\r\n        seProjectNearThreeYearSellProfixList: this.seProjectNearThreeYearSellProfixList,\r\n        seProjectRelevantFile: this.seProjectRelevantFile\r\n      }).then(res => {\r\n        this.saveLoading = false\r\n        if(res.code == 0 && !msg) { \r\n          this.$message.success('保存成功')\r\n        }\r\n        this.getProjectInfo(this.projectId)\r\n      }).catch(err => {\r\n        this.saveLoading = false\r\n      })\r\n    },\r\n    // 保存\r\n    save(aa) {\r\n      this.saveLoading = true\r\n      this.seProjectNearThreeYearSellProfixList.push(this.first, this.second, this.three)\r\n      if(this.seProjectCooperate.cooperateType == 0) {\r\n        this.seProjectCooperate.ownPutFlag = 1\r\n        this.seProjectCooperate.electricityDiscountFlag = 0\r\n        this.seProjectCooperate.electricityDiscountScale = null\r\n        this.seProjectCooperate.houseLeaseFlag = 0\r\n        this.seProjectCooperate.houseLeaseMoney = null\r\n      } else if(this.seProjectCooperate.cooperateType == 1) {\r\n        this.seProjectCooperate.ownPutFlag = 0\r\n        this.seProjectCooperate.ownPutMoney = null\r\n        if(this.seProjectCooperate.electricityDiscountFlag) {\r\n          this.seProjectCooperate.electricityDiscountFlag = 1\r\n        }\r\n        if(this.seProjectCooperate.houseLeaseFlag) {\r\n          this.seProjectCooperate.houseLeaseFlag = 1\r\n        }\r\n      }\r\n      this.seProjectCooperate.projectId = this.projectId\r\n      projectInput({projectId: this.projectId,\r\n        seProjectCompanyInfo: this.seProjectCompanyInfo,\r\n        seProjectCompanyBuildInfo: this.seProjectCompanyBuildInfo,\r\n        seProjectPowerInfo: this.seProjectPowerInfo,\r\n        seProjectPowerTransformInfoList: this.seProjectPowerTransformInfoList,\r\n        seProjectCooperate: this.seProjectCooperate,\r\n        seProjectNearThreeYearSellProfixList: this.seProjectNearThreeYearSellProfixList,\r\n        seProjectRelevantFile: this.seProjectRelevantFile\r\n      }).then(res => {\r\n        this.saveLoading = false\r\n        if(aa) { this.$message.success('保存成功') }\r\n        this.getProjectInfo(this.projectId)\r\n      }).catch(err => {\r\n        this.saveLoading = false\r\n      })\r\n    },\r\n    // 提交审核\r\n    async sub() {\r\n      this.front(1)\r\n      const confirmResult = await this.$confirm('是否提交审核?', '提示', {\r\n        confirmButtonText: '确 定',\r\n        cancelButtonText: '取 消',\r\n        type: 'warning'\r\n      }).catch((err) => err)\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已取消')\r\n      }\r\n      this.subLoading = true\r\n      projectInputSubmit({projectId: this.projectId}).then(res => {\r\n        console.log(res)\r\n        this.subLoading = false\r\n        if(res.code == 0) {\r\n          this.$message.success('提交成功') \r\n          this.$router.back()\r\n        } else {\r\n          this.$message.error(res.msg)\r\n        }\r\n      }).catch( err => {\r\n        this.subLoading = false\r\n      })\r\n    },\r\n    // 添加变压器\r\n    handleAdd() { // 添加弹框\r\n      this.addDialogVisible = true\r\n    },\r\n    add() { // 添加变压器\r\n      let obj = {\r\n        projectId: this.$route.query.projectId,\r\n        transformName: this.addForm.transformName,\r\n        transformVolume: this.addForm.transformVolume\r\n      }\r\n      this.seProjectPowerTransformInfoList.push(obj)\r\n      console.log(this.seProjectPowerTransformInfoList)\r\n      this.addDialogVisible = false\r\n      this.addForm = { \r\n        projectId: this.$route.query.projectId,\r\n        transformName: '',\r\n        transformVolume: '',\r\n        // transformId: Date.now()\r\n      }\r\n      this.save()\r\n    },\r\n    async deleteData(row) { // 删除变压器\r\n      const confirmResult = await this.$confirm('此操作将永久删除该数据，是否继续?', '提示', {\r\n          confirmButtonText: '确 定',\r\n          cancelButtonText: '取 消',\r\n          type: 'warning'\r\n        }).catch((err) => err)\r\n        if (confirmResult !== 'confirm') {\r\n          return this.$message.info('已取消')\r\n        }\r\n      deleteOne({ id: row.transformId }).then(res => {\r\n        console.log(res)\r\n        this.$message.success('删除成功')\r\n        this.getProjectInfo(this.projectId)\r\n      })\r\n    },\r\n    editData(row) { // 编辑变压器弹框\r\n      this.editDeepForm = _.cloneDeep(row)\r\n      this.editDialogVisible = true\r\n    },\r\n    edit() { // 编辑变压器\r\n      this.seProjectPowerTransformInfoList.map((item, i) => {\r\n        if(item.transformId == this.editDeepForm.transformId) {\r\n          this.seProjectPowerTransformInfoList.splice(i, 1, this.editDeepForm)\r\n        }\r\n      })\r\n      this.editDialogVisible = false\r\n      this.editDeepForm = {}\r\n    },\r\n    // 合作模式\r\n    selectChange(val) {\r\n      if(val === 0) {\r\n        this.seProjectCooperate.ownPutFlag = true\r\n        // this.seProjectCooperate.electricityDiscountFlag = false\r\n        // this.seProjectCooperate.electricityDiscountScale = ''\r\n        // this.seProjectCooperate.houseLeaseFlag = false\r\n        // this.seProjectCooperate.houseLeaseMoney = ''\r\n      // } else if(val === 1) {\r\n      //   this.seProjectCooperate.ownPutFlag = false\r\n      //   this.seProjectCooperate.ownPutMoney = ''\r\n      } \r\n    },\r\n    handleOwn() {},\r\n    handleEle(val) {\r\n      if(val == false) {\r\n        this.seProjectCooperate.electricityDiscountFlag = 0\r\n        this.seProjectCooperate.electricityDiscountScale = null\r\n      }\r\n    },\r\n    handleHou(val) {\r\n      if(val == false) {\r\n        this.seProjectCooperate.houseLeaseFlag = 0\r\n        this.seProjectCooperate.houseLeaseMoney = null\r\n      }\r\n    },\r\n    housePartTypeChange(value) { // 屋面材质\r\n      this.seProjectCompanyBuildInfo.housePartType = value.join(',')\r\n    },\r\n    colorSteelTypeChange(value) { // 彩钢瓦类型转换\r\n      this.seProjectCompanyBuildInfo.colorSteelType = value.join(',')\r\n    },\r\n    // 审批记录\r\n    approval() {\r\n      getProjectExamineLog({projectId: this.projectId}).then(res => {\r\n        this.activities = res.data\r\n      })\r\n      this.logVisible = true\r\n    },\r\n    // 省市\r\n    handleChange(val) {\r\n      this.seProjectCompanyInfo.province = val[0]\r\n      this.seProjectCompanyInfo.city = val[1]\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped> \r\n  .shang {\r\n    height: 97px;\r\n    background-color: #fff;\r\n    .el-breadcrumb {\r\n      padding: 15px 0 0 25px;\r\n    }\r\n    .back {\r\n      position: relative;\r\n      .btnnn {\r\n        position: absolute;\r\n        bottom: 0;\r\n        right: 15px;\r\n      }\r\n    }\r\n    h2 {\r\n      padding-left: 25px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .el-alert {\r\n    margin: 15px 0;\r\n  }\r\n  .xian {\r\n    color: #1890FF;\r\n    border-bottom: 1px solid #1890FF;\r\n    padding-bottom: 5px;\r\n    div {\r\n      border-left: 4px solid #1890FF;\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n  /deep/  .el-checkbox__label {\r\n    padding-left: 0;\r\n  }\r\n  .custom-upload-files {\r\n    text-align: left;\r\n  }\r\n  .must-form-item {\r\n    /deep/ .el-form-item__label:before {\r\n      content: '*';\r\n      color: red;\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n  /deep/ .el-input-number__decrease {\r\n    display: none;\r\n  }\r\n  /deep/ .el-input-number__increase {\r\n    display: none;\r\n  }\r\n  /deep/ .el-input-number .el-input__inner {\r\n    padding-left: 10px;\r\n    text-align: left;\r\n  }\r\n  table {\r\n    width: 100%;\r\n    height: 200px;\r\n    margin: 30px 0;\r\n    border-collapse:collapse; \r\n    border: 1px solid #aaa;\r\n    tr {\r\n      border: 1px solid #aaa;\r\n      td {\r\n        border: 1px solid #aaa;\r\n        width: 25%;\r\n      }\r\n    }\r\n    .el-input {\r\n      width: 90%;\r\n    }\r\n    /deep/ .el-input__suffix {\r\n      top: 10px;\r\n    }\r\n  }\r\n\r\n</style>"]}]}