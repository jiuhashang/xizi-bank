{"remainingRequest":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\string.vue?vue&type=style&index=0&id=70b099dd&lang=scss&scoped=true&deep=true&","dependencies":[{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\src\\components\\GlobalComponents\\FileUpload\\string.vue","mtime":1644977083940},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\css-loader\\dist\\cjs.js","mtime":1668673146952},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1668673148673},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\postcss-loader\\src\\index.js","mtime":1668673147587},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1668673148073},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668673146435},{"path":"C:\\Users\\ylf\\Desktop\\xizi - bank\\node_modules\\vue-loader\\lib\\index.js","mtime":1668673148087}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgL2RlZXAvIC5lbC11cGxvYWQtbGlzdF9faXRlbSAuZWwtaWNvbi1jbG9zZS10aXAgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogIH0KLmN1c3RvbS11cGxvYWQtZmlsZXMgewogIAogIC5mYWtlLWJ0biB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB6LWluZGV4OiAyOwogIH0KCiAgJi5jdXN0b20tdXBsb2FkLWZpbGVzLXJlcXVpcmVkOmJlZm9yZSB7CiAgICBjb250ZW50OiAnKic7CiAgICBjb2xvcjogI0Y1NkM2QzsKICAgIG1hcmdpbi1yaWdodDogNHB4OwogIH0KCiAgOjp2LWRlZXAgLmVsLXVwbG9hZCB7CiAgICBkaXNwbGF5OiBub25lOwogIH0KCiAgOjp2LWRlZXAgLmVsLXVwbG9hZC1saXN0IHsKICAgIG1pbi13aWR0aDogNTAlOwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAvLyBtYXJnaW4tbGVmdDogMjBweDsKCiAgICAuZWwtdXBsb2FkLWxpc3RfX2l0ZW06Zmlyc3QtY2hpbGQgewogICAgICBtYXJnaW4tdG9wOiAwOwogICAgfQogIH0KfQoK"},{"version":3,"sources":["string.vue"],"names":[],"mappings":";AAyHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"string.vue","sourceRoot":"src/components/GlobalComponents/FileUpload","sourcesContent":["<template>\r\n  <div class=\"custom-upload-files\" :class=\"required ? 'custom-upload-files-required': ''\">\r\n    <slot />\r\n    <el-button class=\"fake-btn\" type=\"primary\" size=\"mini\" @click.prevent.stop=\"handleClick\">上传</el-button>\r\n    <file-upload\r\n      ref=\"fileUploader\"\r\n      :file-list=\"fileListArr\"\r\n      :limit=\"limit\"\r\n      :multiple=\"multiple\"\r\n      :disabled=\"disabled\"\r\n      :accept=\"accept\"\r\n      @change=\"handleChange\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport FileUpload from './index.vue'\r\nimport Emitter from 'element-ui/src/mixins/emitter'\r\n\r\nexport default {\r\n  components: {\r\n    FileUpload\r\n  },\r\n  mixins: [Emitter],\r\n  model: {\r\n    prop: 'fileList',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    fileList: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    limit: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 组件是否支持多选上传(默认不支持)\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: '上传'\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: '.*'\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      fileArrStrFromChild: '',\r\n      fileListArr: []\r\n    }\r\n  },\r\n  watch: {\r\n    fileList(newVal) {\r\n      if (newVal !== this.fileArrStrFromChild) {\r\n        this.fileListArr = newVal ? newVal.split(',') : []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(fileArr) {\r\n      const str = fileArr.filter(v => !!v).map(({ url }) => url).join(',')\r\n      this.fileArrStrFromChild = str\r\n      this.$emit('change', str)\r\n      this.dispatch('ElFormItem', 'el.form.change', [str])\r\n    },\r\n    handleClick() {\r\n      this.$refs.fileUploader.$refs.imageUpload.$el.querySelector('.el-upload__input').click()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped deep>\r\n    /deep/ .el-upload-list__item .el-icon-close-tip {\r\n      display: none !important;\r\n    }\r\n  .custom-upload-files {\r\n    \r\n    .fake-btn {\r\n      position: relative;\r\n      z-index: 2;\r\n    }\r\n\r\n    &.custom-upload-files-required:before {\r\n      content: '*';\r\n      color: #F56C6C;\r\n      margin-right: 4px;\r\n    }\r\n\r\n    ::v-deep .el-upload {\r\n      display: none;\r\n    }\r\n\r\n    ::v-deep .el-upload-list {\r\n      min-width: 50%;\r\n      max-width: 400px;\r\n      flex-direction: column;\r\n      // margin-left: 20px;\r\n\r\n      .el-upload-list__item:first-child {\r\n        margin-top: 0;\r\n      }\r\n    }\r\n  }\r\n  \r\n</style>\r\n"]}]}